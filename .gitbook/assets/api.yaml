openapi: 3.0.0
info:
  version: "2.1"
  title: Metacoin API
  termsOfService: "http://metacoin.network/terms/"
  description: |
    This document is contain Metacoin API reference.

    ## Errorcodes:
      | ErrorCode | Error description |
      |-----------|-------------------|
      | 1001 | Name is empty |
      | 1002 | Symbol is empty |
      | 1003 | The decimal number must be bigger then 0 |
      | 1004 | The decimal number must be less than 18 |
      | 1101 | Amount must be an integer string |
      | 1102 | Invalid unlock date |
      | 1103 | Price must be an integer string |
      | 1104 | Price must be greater then zero |
      | 1105 | Qtt must be an integer string |
      | 1106 | Qtt must be greater then zero |
      | 1201 | The TargetToken is the same as the BaseToken |
      | 1202 | Amount must be greater then zero |
      | 1203 | Price precision is too long |
      | 1204 | Qtt precision is too long |
      | 1205 | Side must SELL or BUY |
      | 1206 | The amount must be an integer |
      | 1300 | Owner pending balance remain error - remain `currentamount`, need `enoughtamount` |
      | 2010 | Invalid signature |
      | 2110 | PublicKey format error |
      | 2210 | PublicKey type error |
      | 2220 | Invalid public key curve |
      | 2230 | Signature format error |
      | 2310 | Publickey decode error |
      | 3000 | Token reserve address `reserveInfo.Address` not found |
      | 3001 | Invalid from address |
      | 3002 | Invalid to address |
      | 3003 | Invalid from fee address |
      | 3004 | Invalid to fee address |
      | 3005 | `walletID` is already exists |
      | 3090 | Can not find the address `key` |
      | 3102 | Invalid public key curve size |
      | 3103 | Public key decode error |
      | 3104 | Public key format error |
      | 3105 | Public key parsing error |
      | 3106 | Public key type error |
      | 3190 | Address `key` is in the wrong format |
      | 3201 | From address and to address must be different values |
      | 3202 | From token and to token must be different values |
      | 3209 | Invalid address data format |
      | 3290 | Address `key` is in the wrong data |
      | 4001 | Token `TokenID` not exists |
      | 4002 | Token id missing |
      | 4101 | Invalid Price format, Price must numeric only |
      | 4102 | Invalid Qtt format, Qtt must numeric only. |
      | 4103 | Invalid item data |
      | 4104 | Invalid toekn SN |
      | 4105 | Invalid token Data format |
      | 4200 | Invalid Data format |
      | 4201 | Base token are in the target token list |
      | 4202 | Could not find target token in the target token list |
      | 4203 | Item is already canceled |
      | 4204 | Invalid token data format |
      | 4205 | Target token are in the target token list |
      | 4206 | Is not your MRC040 ITEM |
      | 4207 | Exchange item not found |
      | 4208 | Invalid exchange item data |
      | 4900 | No data change |
      | 5000 | Not enough balace |
      | 5001 | The balance of fromuser is insufficient |
      | 5002 | The balance of touser is insufficient |
      | 5100 | Owner pending balance error |
      | 6000 | Exchange result item is already exists |
      | 6002 | ExchangeItem not found |
      | 6003 | MRC020 already exists |
      | 6004 | MRC020 data not exist |
      | 6005 | MRC040 data not exist |
      | 6100 | MRC040 `exchangeItemPK` is already exists |
      | 6102 | invalid MRC020 data address |
      | 6103 | invalid MRC040 data address |
      | 6204 | Invalid MTC020 Data format |
      | 6205 | MRC020 `mrc020Key` is in the wrong data |
      | 6206 | MRC040 `mrc040Key` is in the wrong data |
      | 6300 | already complete item |
      | 6501 | Base token is not allow exchange to target token |
      | 6502 | Exchange token is not allow exchange to base token |
      | 6600 | Exchange item side is invalid |
      | 8100 | Hyperledger internal error |
      | 8600 | Hyperledger internal error |
      | 9900 | Data `value` is not integer |

      * `VALUE NAME` is changed value.

    ## Description of transaction:
      Meaning of parameters by type
      1. Chaincode Install or Update
        - Chaincode upgrade

      2. DataMigration
        - Hyperledger Data format or value fix

      3. MRC020
        - Delayed open

      4. NewWallet
        - Create new address

      5. SetBase
        - Set base token for MRC040 protocol
          1. base token id
          2. target token id

      6. exchange, exchangePair, exchangeFee, exchangeFeePair
        - token exchange
          1. from address
          2. Amount `from address` sent to `to address`
          3. Token id `from address` sent to `to address`
          4. Address receiving fee of from address
          5. Fee paid by from address
          6. Token ID of fee paid by from address
          7. from address's tag
          8. from address's memo
          9. from address's signature
          10. from address
          11. Amount `from address` sent to `to address`
          12. Token id `from address` sent to `to address`
          13. Address receiving fee of to address
          14. Fee paid by to address
          15. Token ID of fee paid by to address
          16. to address's tag
          17. to address's memo
          18. to address's signature

      7. tokenUpdate
        - token update
          1. token id
          2. url
          3. info
          4. image
          5. signature

      8. ownerBurning, tokenBurning
        - token burning
          1. token id
          2. Burning amount
          3. Signature

      9. ownerIncrease, tokenIncrease
        - token increase
          1. token id
          2. Increase amount
          3. Signature

      1. tokenRegister
        - same as token create.

      1. token_reserve
        - token receive at token create
          1. token sender(token owner)
          2. receive address
          3. receive amount
          4. token id

      1. transfer, receive
        - token transfer
          1. from address
          2. to address
          3. amount
          4. token id
          5. signature
          6. unlock date
          7. tag
          8. memo

      1. stodexExchange, stodexExchangePending, stodexExchangeRequest, stodexRegister, stodexRequest, stodexUnRegister
        - for MRC040
        - sorry, not yet fixed

tags:
  - name: Address
    description: Metacoin Address and balance
  - name: Balance
    description: Get Metacoin or Token Balance
  - name: Block
    description: Block information
  - name: Transfer
    description: Metacoin or Token transfer
  - name: Token
    description: |
      - Token information
      - The creation of tokens proceeds as follows.
      - Save token information by calling /token
      - Generate tokens by calling /token/{tkey}
  - name: MRC400
    description: |
      ## NFT(Non-fungible token) common information
      - Contains common information of NFT items(MRC401).
  - name: MRC401
    description: |
      ## NFT(Non-fungible token)
      - For common information, refer to MRC400.
      - Refer to MRC400 for creator, information URL, image URL, etc. used in DApp.
      - Each item is displayed separately and managed independently.
      - Suitable for use as game items, coupons, tickets, etc. that are similar but must be treated uniquely.
  - name: MRC402
    description: |
      ## NFT(Non-fungible token)
      - It is a quantity-based NFT.
      - It is suitable for splitting the rights of a single asset.
      - It supports complex assets and is suitable for use in the form of bonds.
servers:
  - url: "https://rest.metacoin.network:20923"
    description: Mainnet public node
  - url: "http://testnetrest.metacoin.network:20922"
    description: TESTnet API endpoint
  - url: "https://testnetrest.metacoin.network:20923"
    description: TESTnet API endpoint - HTTPS
paths:
  /mrc400:
    post:
      tags:
        - MRC400
      summary: Create MRC400 token
      description: |
        - It stores the common information of MRC401 Token.
        - MRC401 Token You can specify the token to be used for sale and auction.
        - It stores information about the creator of MRC401 Token.
        - If there is no ImageURL or URL of MRC401 Token, the information of MRC400 is used.
      parameters:
        - name: owner
          in: query
          example: MTATLnT6SGKE8RU0CBPoDRfUXL5lr4SLece1a6ee
          schema:
            type: string
            format: Metacoin Address
            minLength: 40
            maxLength: 40
          description: MRC400 Owner
          required: true
        - name: name
          in: query
          example: Meta-RPG
          description: |
            - MRC400 Name
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          schema:
            type: string
            minLength: 1
            maxLength: 128
          required: true
        - name: url
          in: query
          description: |
            - MRC400 Project URL
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          example: https://mrc400-project.com/
          schema:
            type: string
            minLength: 1
            maxLength: 255
          required: true
        - name: imageurl
          in: query
          description: |
            - MRC400 Project Image URL
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          example: https://mrc400-project.com/images/project.png
          schema:
            type: string
            minLength: 1
            maxLength: 255
          required: true
        - name: allowtoken
          in: query
          description: |
            - Only designated tokens and Metacoin (Token ID: 0) can be used for MRC401 token auctions and sales under this MRC400 token
            - If this value is "0" or empty, all tokens can be used in all sales/auctions.
          example: "0"
          schema:
            type: string
            format: int
            minLength: 1
            maxLength: 16
          required: true
        - name: category
          in: query
          description: |
            - This value refers to the classification in which the MRC400 token is used.  It does not affect Metacoin or Metacoin-based blockchains.
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          example: "Baseball Card"
          schema:
            type: string
            format: int
            minLength: 1
            maxLength: 64
          required: true
        - name: description
          in: query
          description: |
            - Set the field where MRC401 Token is used
            - This value is a description of the MRC400 Token and does not have any effect on Metacoin or Metacoin-based blockchain.
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          example: "Metacoin NFT base RPG Game"
          schema:
            type: string
            format: int
            minLength: 1
            maxLength: 4096
          required: true

        - name: itemurl
          in: query
          description: |
            - Specify the URL of JSON Data that stores detailed data of MRC401 token.
            - If the `url` value of MRC401 Token is an empty string, this value is used.
            - The URI value allows for ID substitution by clients. If the string {id} exists in any URI, clients MUST replace this with the actual token ID in hexadecimal form. This allows for a large number of tokens to use the same on-chain string by defining a URI once, for that large number of tokens.
            - This value is the URL of a JSON file that stores data that can be referenced by an application using MRC401 Token
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          example: "https://mrc400-project.com/info/{id}"
          schema:
            type: string
            format: int
            minLength: 1
            maxLength: 255
          required: true

        - name: itemimageurl
          in: query
          description: |
            - Specify the image URL of the MRC401 token.
            - If the `imageurl` value of MRC401 Token is an empty string, this value is used.
            - The URI value allows for ID substitution by clients. If the string {id} exists in any URI, clients MUST replace this with the actual token ID in hexadecimal form. This allows for a large number of tokens to use the same on-chain string by defining a URI once, for that large number of tokens.
            - This value is the URL of the image to be used when displaying MRC401 Token in an application that uses MRC401 Token
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          example: "https://mrc400-project.com/info/{id}"
          schema:
            type: string
            format: int
            minLength: 1
            maxLength: 255
          required: true

        - name: data
          in: query
          description: |
            - MRC400 detail info
            - Should be json string
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          schema:
            type: string
            format: int
            minLength: 1
            maxLength: 4096
          required: true

        - name: socialmedia
          in: query
          schema:
            type: string
            format: json_encode
            minLength: 1
            maxLength: 40960
          required: false
          example: {"facebook" : "https://facebook.com/demo", "homepage":"https://homepage.com"}
          description: |
            - Specifies the SNS URL for this project.
            - Should be json string
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**

        - name: partner
          in: query
          schema:
            type: string
            format: json_encode
            minLength: 1
            maxLength: 40960
          required: false
          example: {"MTrqP2QkpBgBfNwgXsyGk3aWKtt3lQp369797277" : "partner", "MTL97iMddTPADBUethWmlIzx3e6mawn724e865aa":"creator","MT7LMaOd9bREtTUP23m0Ge83yA7VNzhUf0399772":"saller"}
          description: |
            - Specifies the address to manage the MRC401 included in this project.
            - The permissions that can be specified are as follows:
            - partner: MRC401 creation, update the MRC401 you created, selling while creating MRC401, sale/sale cancellation of MRC401 items that have never been traded/transferred after creation, auction/auction cancellation
            - seller: Sell while creating MRC401, sell/cancel sale of MRC401 items that have never been traded/transferred after creation, cancel auction/auction
            - creator: MRC401 creation, update the MRC401 you created

        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat owner, name, url, imageurl, category, itemurl, itemimageurl, partner, data, tkey
            - ex) ecdsa_sign(privatekey of owner address, owner +'|'+ name +'|'+ url +'|'+ imageurl+'|'+category+'|'+itemurl+'|'+itemimageurl+'|'+partner+'|'+data+'|'+tkey)

      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: string
                description: new MRC400 Token ID
        "405":
          description: Missing or invalid RSA key

  /mrc400/{mrc400id}:
    get:
      tags:
        - MRC400
      summary: Get information of MRC400
      parameters:
        - name: mrc400id
          in: path
          description: MRC400 Token ID
          required: true
          schema:
            type: string
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/MRC400"
        "404":
          description: MRC400 not found
    put:
      tags:
        - MRC400
      summary: Update MRC400 token
      description: |
        - It stores the common information of MRC401 Token.
        - MRC401 Token You can specify the token to be used for sale and auction.
        - If there is no ImageURL or URL of MRC401 Token, the information of MRC400 is used.
      parameters:
        - name: mrc400id
          in: path
          example: MRC400_db7da6bc848ba62e621aede40f75dc760
          schema:
            type: string
            minLength: 40
            maxLength: 40
          description: MRC400 Token Id
          required: true
        - name: name
          in: query
          example: Meta-RPG
          description: |
            - MRC400 Name
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          schema:
            type: string
            minLength: 1
            maxLength: 128
          required: true
        - name: url
          in: query
          description: |
            - MRC400 Project URL
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          example: https://mrc400-project.com/
          schema:
            type: string
            minLength: 1
            maxLength: 255
          required: true
        - name: imageurl
          in: query
          description: |
            - MRC400 Project Image URL
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          example: https://mrc400-project.com/images/project.png
          schema:
            type: string
            minLength: 1
            maxLength: 255
          required: true
        - name: allowtoken
          in: query
          description: |
            - Only designated tokens and Metacoin (Token ID: 0) can be used for MRC401 token auctions and sales under this MRC400 token
            - If this value is "0" or empty, all tokens can be used in all sales/auctions.
          example: "0"
          schema:
            type: string
            format: int
            minLength: 1
            maxLength: 16
          required: true
        - name: category
          in: query
          description: |
            - This value refers to the classification in which the MRC400 token is used.  It does not affect Metacoin or Metacoin-based blockchains.
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          example: "Baseball Card"
          schema:
            type: string
            format: int
            minLength: 1
            maxLength: 64
          required: true
        - name: description
          in: query
          description: |
            - Set the field where MRC401 Token is used
            - This value is a description of the MRC400 Token and does not have any effect on Metacoin or Metacoin-based blockchain.
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          example: "Metacoin NFT base RPG Game"
          schema:
            type: string
            format: int
            minLength: 1
            maxLength: 4096
          required: true

        - name: itemurl
          in: query
          description: |
            - Specify the URL of JSON Data that stores detailed data of MRC401 token.
            - If the `url` value of MRC401 Token is an empty string, this value is used.
            - The URI value allows for ID substitution by clients. If the string {id} exists in any URI, clients MUST replace this with the actual token ID in hexadecimal form. This allows for a large number of tokens to use the same on-chain string by defining a URI once, for that large number of tokens.
            - This value is the URL of a JSON file that stores data that can be referenced by an application using MRC401 Token
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          example: "https://mrc400-project.com/info/{id}"
          schema:
            type: string
            format: int
            minLength: 1
            maxLength: 255
          required: true

        - name: itemimageurl
          in: query
          description: |
            - Specify the image URL of the MRC401 token.
            - If the `imageurl` value of MRC401 Token is an empty string, this value is used.
            - The URI value allows for ID substitution by clients. If the string {id} exists in any URI, clients MUST replace this with the actual token ID in hexadecimal form. This allows for a large number of tokens to use the same on-chain string by defining a URI once, for that large number of tokens.
            - This value is the URL of the image to be used when displaying MRC401 Token in an application that uses MRC401 Token
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          example: "https://mrc400-project.com/info/{id}"
          schema:
            type: string
            format: int
            minLength: 1
            maxLength: 255
          required: true

        - name: data
          in: query
          description: |
            - MRC400 detail info
            - Should be json string
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          schema:
            type: string
            format: int
            minLength: 1
            maxLength: 4096
          required: true

        - name: socialmedia
          in: query
          schema:
            type: string
            format: json_encode
            minLength: 1
            maxLength: 40960
          required: false
          example: {"facebook" : "https://facebook.com/demo", "homepage":"https://homepage.com"}
          description: |
            - Specifies the SNS URL for this project.
            - Should be json string
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**

        - name: partner
          in: query
          schema:
            type: string
            format: json_encode
            minLength: 1
            maxLength: 40960
          required: false
          example: {"MTrqP2QkpBgBfNwgXsyGk3aWKtt3lQp369797277" : "partner", "MTL97iMddTPADBUethWmlIzx3e6mawn724e865aa":"creator","MT7LMaOd9bREtTUP23m0Ge83yA7VNzhUf0399772":"saller"}
          description: |
            - Specifies the address to manage the MRC401 included in this project.
            - The permissions that can be specified are as follows:
            - partner: MRC401 creation, update the MRC401 you created, selling while creating MRC401, sale/sale cancellation of MRC401 items that have never been traded/transferred after creation, auction/auction cancellation
            - seller: Sell while creating MRC401, sell/cancel sale of MRC401 items that have never been traded/transferred after creation, cancel auction/auction
            - creator: MRC401 creation, update the MRC401 you created

        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat mrc400id, name, url, imageurl, category, itemurl, itemimageurl, data, tkey
            - ex) ecdsa_sign(privatekey of owner address, mrc400id +'|'+ name +'|'+ url +'|'+ imageurl+'|'+category+'|'+itemurl+'|'+itemimageurl+'|'+data+'|'+tkey)
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "405":
          description: Missing or invalid RSA key          
  /mrc401/{mrc400id}:
    post:
      tags:
        - MRC401
      summary: Create MRC401 Token
      parameters:
        - name: mrc400id
          in: path
          description: MRC400 Token ID
          required: true
          schema:
            type: string
            minLength: 40
            maxLength: 40
        - name: itemdata[]
          in: query
          description: |
            - MRC401 token data
            - This parameter must be sent as a json encoded string.
          schema:
              type: object
              properties:
                item_id:
                  example: "0000000000000000000000000000000000000001"
                  type: string
                  format: 0-9, A-Z, a-z
                  minLength: 40
                  maxLength: 40
                  description: |
                    - MRC401 Item ID
                    - Unique value within MRC400
                item_url:
                  example: "https://mrc400-project.com/item/0000000000000000000000000000000000000001"
                  type: string
                  format: URL
                  minLength: 0
                  maxLength: 255
                  description: |
                    - Specify the URL of JSON Data that stores detailed data of MRC401 token.
                    - If this value is an empty string, the `itemurl` value defined in MRC400 is used.
                    - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
                item_image_url:
                  example: "https://mrc400-project.com/"
                  type: string
                  format: URL
                  minLength: 0
                  maxLength: 255
                  description: |
                    - Specify the image URL of the MRC401 token.
                    - If this value is an empty string, the `itemimageurl` value defined in MRC400 is used.
                    - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
                groupid:
                  type: string
                  minLength: 1
                  maxLength: 64
                  description: |
                      - Value to identify the same ITEM
                      - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
                initial_reserve:
                  example: "10000000000"
                  type: string
                  format: integer
                  minimum: 1
                  maximum: 9999999999999999999999999999999999999999
                  description: |
                    - This is the amount the owner will receive when melting this token.
                    - When creating a token, the amount specified is deducted from the creator's wallet.
                    - Currency is the token specified in `initial_token`.
                initial_token:
                  example: "0"
                  type: string
                  format: integer
                  minimum: 1
                  maximum: 9999999999999999999999999999999999999999
                  description: |
                    - This is the token that the owner will receive when melting this token.
                    - Only allowtoken and "0" specified in MRC400 are possible.
                sell_fee:
                  example: "0"
                  type: string
                  format: float
                  minimum: 0
                  maximum: 99.9999
                  description: |
                    - This is the fee that MRC400 Token holders will receive when trading. If this value is 10, when traded for 300 MTC, the MRC400 token holder will receive 30 MTC, 10% of 300 MTC.
                melt_fee:
                  example: "0"
                  type: string
                  format: float
                  minimum: 0
                  maximum: 99.9999
                  description: |
                    - This is the fee that MRC400 token holders receive when they melt MRC401 items. If this value is 10 and the value of initial_reserve is 300 MTC, then when this token holder melts this token, he will receive 30 MTC, 10% of 300 MTC.
                transferable:
                  type: string
                  example: "Permanent"
                  enum:
                    - Permanent
                    - Bound
                    - Temporary
                  description: |
                    - It means the availability of transactions and transfers.
                    - Permanent: Transaction, Transfer available
                    - Bound: Transaction, transfer impossible
                    - Temprary: Transaction, transfer, but MRC400 creator can change to Permanent, Bound
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                format: json_encode
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "404":
          description: MRC400 not found
  /mrc401/{mrc401id}:
    get:
      tags:
        - MRC401
      summary: GET MRC401 Token
      parameters:
        - name: mrc401id
          in: path
          example: "MRC400_db7da6bc848ba62e621aede40f75dc760_0000000000000000000000000000000000000001"
          description: MRC401 Token ID
          required: true
          schema:
            type: string
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/MRC401"
        "404":
          description: MRC400 not found
  /mrc401/transfer/{mrc401id}:
    post:
      tags:
        - MRC401
      summary: Transfer ownership of the MRC401 token to another user.
      parameters:
        - name: mrc401id
          in: path
          description: MRC401 Token ID
          required: true
          schema:
            type: string
            minLength: 81
            maxLength: 81
        - name: fromAddr
          in: query
          schema:
            type: string
            format: Metacoin Address
            minLength: 40
            maxLength: 40
          description: Current owner of item MRC401
          required: true
        - name: toAddr
          in: query
          schema:
            type: string
            format: Metacoin Address
            minLength: 40
            maxLength: 40
          description: Address to receive ownership of MRC401 token
          required: true
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat fromAddr, toAddr, url, tkey
            - ex) ecdsa_sign(privatekey of owner address, fromAddr +'|'+ toAddr +'|'+ mrc401id +'|'+tkey)
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "404":
          description: MRC400 not found

  /mrc401/sell:
    post:
      tags:
        - MRC401
      summary: Sell MRC401 Token
      description: |
        - Sell ​​MRC401 tokens.
        - If other users purchase tokens, they will receive the specified amount of sales.
        - If `sell_fee` is 10, 10% of the transaction amount will be transferred to the MRC400 token holder designated in the MRC401 token, and only 90% of the fee excluding the 10% fee will be received by the MRC401 token holder.
        - If the value of `sell_fee` is 0, no commission is paid.
      parameters:
        - name: seller
          in: query
          schema:
            type: string
            format: Metacoin Adderess
        - name: itemdata[]
          in: query
          description: |
            - MRC401 Token information to be sold
            - This parameter must be sent as a json encoded string.
            - The quantity that can be sold at one time is 1~1024.
          example: '[{"MRC400_db7da6bc848ba62e621aede40f75dc760_0000000000000000000000000000000000000001","MRC400_db7da6bc848ba62e621aede40f75dc760_0000000000000000000000000000000000000002"}]'
          schema:
            type: object
            properties:
                id:
                  example: "MRC400_db7da6bc848ba62e621aede40f75dc760_0000000000000000000000000000000000000001"
                  type: string
                  minLength: 81
                  maxLength: 81
                  description: |
                    - MRC401 Item ID
                price:
                  example: "10000000000"
                  type: string
                  format: integer
                  minimum: 1
                  maximum: 9999999999999999999999999999999999999999
                  description: sale price
                token:
                  example: "0"
                  type: string
                  format: integer
                  minimum: 1
                  maximum: 9999999999999999999999999999999999999999
                  description: |
                    - This is the token that the owner will receive when melting this token.
                    - If the value of allowtoken in MRC400 is specified, only Metacoin and the specified token are allowed.
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /nonce)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat seller, itemdata, tkey
            - ex) ecdsa_sign(privatekey of owner address, seller +'|'+ itemdata +'|'+ tkey)
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "404":
          description: MRC400 not found
  /mrc401/unsell:
    post:
      tags:
        - MRC401
      summary: MRC401 token sale canceled
      parameters:
        - name: seller
          in: query
          description: MRC401 Token owner address
          schema:
            type: string
            format: Metacoin Adderess
        - name: itemdata
          in: query
          description: |
            - MRC401 Token id list to be sale cancel
            - It is the MRC401 Token belonging to the token specified in mrc400id
          example: '{"MRC400_db7da6bc848ba62e621aede40f75dc760_0000000000000000000000000000000000000001","MRC400_db7da6bc848ba62e621aede40f75dc760_0000000000000000000000000000000000000002"}'
          schema:
            type: array
            format: json
            minItems: 1
            maxItems: 100
            items:
              type: string
              minLength: 81
              maxLength: 81
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat seller, itemdata, tkey
            - ex) ecdsa_sign(privatekey of owner address, seller +'|'+ itemdata +'|'+ tkey)
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "404":
          description: MRC400 not found
  /mrc401/buy/{mrc401id}:
    post:
      tags:
        - MRC401
      summary: Buy MRC401 Token
      parameters:
        - name: mrc401id
          in: path
          example: MRC400_dd1605be6960d9d6ba7bbeed9da033980_0000000000000000000000000000000000000001
          description: MRC401 Token ID
          required: true
          schema:
            type: string
            minLength: 81
            maxLength: 81
        - name: buyer
          in: query
          description: MRC401 Token buyer address
          schema:
            type: string
            format: Metacoin Adderess
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat mrc401id, tkey
            - ex) ecdsa_sign(privatekey of owner address, mrc401id +'|'+ tkey)
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "404":
          description: MRC400 not found
  /mrc401/melt/{mrc401id}:
    post:
      tags:
        - MRC401
      summary: Melt MRC401
      description: |
        - Melt the MRC401 token.
        - Once melted, the item cannot be transferred or sold to others.
        - When the MRC401 Token is created, it will be received in the owner's wallet as much as the `initial_price`.
        - If the `meltint_fee` is 10, 10% of the initial_price will be transferred to the MRC400 token holder specified in the MRC401 token, and only 90% of the fee excluding the 10% fee will be received by the MRC401 token holder.
        - If the value of `meltint_fee` is 0, no fee is paid.
      parameters:
        - name: mrc401id
          in: path
          description: MRC401 Token ID
          required: true
          schema:
            type: string
            minLength: 81
            maxLength: 81
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat mrc401id, tkey
            - ex) ecdsa_sign(privatekey of owner address, mrc401id +'|'+ tkey)
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "404":
          description: MRC400 not found

  /mrc401/auction:
    post:
      tags:
        - MRC401
      summary: Auction MRC401 Token
      description: |
        - Auction ​​MRC401 tokens.
        - You can cancel an auction using the /mrc401/unauction protocol.
        - If there is a bidder, the auction cannot be canceled.
        - If `sell_fee` is 10, 10% of the transaction amount will be transferred to the MRC400 token holder designated in the MRC401 token, and only 90% of the fee excluding the 10% fee will be received by the MRC401 token holder.
        - If the value of `sell_fee` is 0, no commission is paid.
      parameters:
        - name: seller
          in: query
          schema:
            type: string
            format: Metacoin Adderess
        - name: itemdata
          in: query
          description: MRC401 Token information to be auction
          schema:
            type: array
            format: json
            minItems: 1
            maxItems: 100
            items:
              type: object
              properties:
                id:
                  example: "MRC400_db7da6bc848ba62e621aede40f75dc760_0000000000000000000000000000000000000001"
                  type: string
                  minLength: 81
                  maxLength: 81
                  description: |
                    - MRC401 Item ID for auction
                    - It is the MRC401 Token belonging to the token specified in mrc400id
                start:
                  example: "100"
                  type: string
                  format: integer
                  minimum: 1
                  maximum: 9999999999999999999999999999999999999999
                  description: auction start price
                bnynow:
                  example: "500"
                  type: string
                  format: integer
                  minimum: 1
                  maximum: 9999999999999999999999999999999999999999
                  description: |
                    - auction buynow price
                    - If this value is 0, you cannot purchase immediately.
                bidding:
                  example: "1"
                  type: string
                  format: integer
                  minimum: 1
                  maximum: 9999999999999999999999999999999999999999
                  description: |
                    - Auction bidding unit
                    - If this value is 5, the amount that can be bid is a multiple of 5 + the starting price of the auction.
                token:
                  example: "0"
                  type: string
                  format: integer
                  minimum: 1
                  maximum: 9999999999999999999999999999999999999999
                  description: |
                    - Specify the tokens that can be used for auctions.
                    - Only allowtoken and "0" (Metacoin) specified in MRC400 are allowed.
                end:
                  example: "0"
                  type: string
                  format: UnixTimestamp (UTC)
                  minLength: 10
                  maxLength: 10
                  description: |
                    - The time the auction ends.
                    - The minimum value of this value is + 1 hour from the time the packet is transmitted.
                    - The maximum value of this value is +21 days from the time the packet is transmitted.
                    - **If this value is less than the current time + 1 hour, it is set as the current time + 1 hour.**
                    - **If this value is greater than the current time + 21 days, it is set as the current time + 21 days.**
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat seller, itemdata, tkey
            - ex) ecdsa_sign(privatekey of owner address, seller +'|'+ itemdata +'|'+ tkey)
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "404":
          description: MRC400 not found

  /mrc401/unauction:
    post:
      tags:
        - MRC401
      summary: MRC401 token auction canceled
      description: |
        - If there is a bidder, the auction cannot be canceled.
      parameters:
        - name: seller
          in: query
          description: MRC401 Token owner address
          schema:
            type: string
            format: Metacoin Adderess
        - name: itemdata
          in: query
          description: |
            - MRC401 Token id list to be sale cancel
            - It is the MRC401 Token belonging to the token specified in mrc400id
          example: '{"MRC400_db7da6bc848ba62e621aede40f75dc760_0000000000000000000000000000000000000001","MRC400_db7da6bc848ba62e621aede40f75dc760_0000000000000000000000000000000000000002"}'
          schema:
            type: array
            format: json
            minItems: 1
            maxItems: 100
            items:
              type: string
              minLength: 81
              maxLength: 81
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat seller, itemdata, tkey
            - ex) ecdsa_sign(privatekey of owner address, seller +'|'+ itemdata +'|'+ tkey)
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "404":
          description: MRC400 not found

  /mrc401/bid/{mrc401id}:
    post:
      tags:
        - MRC401
      summary: Bid MRC401 Token
      parameters:
        - name: mrc401id
          in: path
          example: MRC400_dd1605be6960d9d6ba7bbeed9da033980_0000000000000000000000000000000000000001
          description: MRC401 Token ID
          required: true
          schema:
            type: string
            minLength: 81
            maxLength: 81
        - name: buyer
          in: query
          description: MRC401 Token auction bidder address
          schema:
            type: string
            format: Metacoin Adderess
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: amount
          in: query
          example: "100"
          schema:
            type: string
            format: integer
            minimum: 1
            maximum: 9999999999999999999999999999999999999999
          description: |
            - auction bid amount
            - If there are no bidders, it must be equal to or greater than the starting price of the auction.
            - If there is a bidder, it must be greater than the current bid amount.
            - The bid amount must be equal to the auction opening price or the auction opening price plus a multiple of the auction bid units.
            - If there are no bidders and the auction start price is 100 and the bid unit is 5, it must be 100, 105, 110, ...
            - If there is a bidder, the current bid is 120, the auction starting price is 100, and the bid unit is 5, it should be 125, 130, 135, ...
        - name: token
          in: query
          example: "0"
          schema:
            type: string
            format: integer
            minimum: 1
            maximum: 9999999999999999999999999999999999999999
          description: |
            - This value should be the ID of the token specified to be used in the auction.
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat mrc401id, amount, token, tkey
            - ex) ecdsa_sign(privatekey of owner address, mrc401id +'|'+ amount + '|' + token + '|' + tkey)
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "404":
          description: MRC400 not found


  /mrc401/auctionfinish/{mrc401id}:
    get:
      tags:
        - MRC401
      summary: Finish MRC401 token auction
      description: |
        - Process the auction closing.
        - This replaces the JobScheduler inside the BlockChain.
        - It can be called without permission or signature, and the auction is closed according to the already established procedure.
        - If you call it before the auction end time, you will get an error.
        - If you call for an auction that has already ended, you will get an error.
      parameters:
        - name: mrc401id
          in: path
          example: MRC400_dd1605be6960d9d6ba7bbeed9da033980_0000000000000000000000000000000000000001
          description: MRC401 Token ID
          required: true
          schema:
            type: string
            minLength: 81
            maxLength: 81
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "404":
          description: MRC401 not found

  /mrc402:
      post:
        tags:
          - MRC402
        summary: Create MRC402 Token
        parameters:
        - name: name
          in: query
          example: Meta-NFT
          description: |
            - MRC402 Name
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          schema:
            type: string
            minLength: 1
            maxLength: 128
          required: true
        - name: creator
          in: query
          example: MTATLnT6SGKE8RU0CBPoDRfUXL5lr4SLece1a6ee
          schema:
            type: string
            format: Metacoin Address
            minLength: 40
            maxLength: 40
          description: MRC402 Owner
          required: true
        - name: url
          in: query
          description: |
            - MRC400 Project URL
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          example: https://mrc402-project.com/
          schema:
            type: string
            minLength: 1
            maxLength: 255
          required: true
        - name: imageurl
          in: query
          description: |
            - MRC400 Project Image URL
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          example: https://mrc400-project.com/images/project.png
          schema:
            type: string
            minLength: 1
            maxLength: 255
          required: true
        - name: allowtoken
          in: query
          description: |
            - Only designated tokens and Metacoin (Token ID: 0) can be used for MRC401 token auctions and sales under this MRC400 token
            - If not specified, set to "0"
          example: "0"
          schema:
            type: string
            format: int
            minLength: 1
            maxLength: 16
          required: true
        - name: category
          in: query
          description: |
            - This value refers to the classification in which the MRC400 token is used.  It does not affect Metacoin or Metacoin-based blockchains.
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          example: "Baseball Card"
          schema:
            type: string
            format: int
            minLength: 1
            maxLength: 64
          required: true
        - name: description
          in: query
          description: |
            - Set the field where MRC401 Token is used
            - This value is a description of the MRC400 Token and does not have any effect on Metacoin or Metacoin-based blockchain.
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          example: "Metacoin NFT base RPG Game"
          schema:
            type: string
            format: int
            minLength: 1
            maxLength: 4096
          required: true

        - name: itemurl
          in: query
          description: |
            - Specify the URL of JSON Data that stores detailed data of MRC401 token.
            - If the `url` value of MRC401 Token is an empty string, this value is used.
            - The URI value allows for ID substitution by clients. If the string {id} exists in any URI, clients MUST replace this with the actual token ID in hexadecimal form. This allows for a large number of tokens to use the same on-chain string by defining a URI once, for that large number of tokens.
            - This value is the URL of a JSON file that stores data that can be referenced by an application using MRC401 Token
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          example: "https://mrc400-project.com/info/{id}"
          schema:
            type: string
            format: int
            minLength: 1
            maxLength: 255
          required: true

        - name: itemimageurl
          in: query
          description: |
            - Specify the image URL of the MRC401 token.
            - If the `imageurl` value of MRC401 Token is an empty string, this value is used.
            - The URI value allows for ID substitution by clients. If the string {id} exists in any URI, clients MUST replace this with the actual token ID in hexadecimal form. This allows for a large number of tokens to use the same on-chain string by defining a URI once, for that large number of tokens.
            - This value is the URL of the image to be used when displaying MRC401 Token in an application that uses MRC401 Token
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          example: "https://mrc400-project.com/info/{id}"
          schema:
            type: string
            format: int
            minLength: 1
            maxLength: 255
          required: true

        - name: data
          in: query
          description: |
            - MRC400 detail info
            - Should be json string
            - **This value is does not have any effect on Metacoin or Metacoin-based blockchain**
          schema:
            type: string
            format: int
            minLength: 1
            maxLength: 4096
          required: true
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat owner, name, url, imageurl, category, itemurl, itemimageurl, data, tkey
            - ex) ecdsa_sign(privatekey of owner address, owner +'|'+ name +'|'+ url +'|'+ imageurl+'|'+category+'|'+itemurl+'|'+itemimageurl+'|'+data+'|'+tkey)

        responses:
          "200":
            description: successful operation
            content:
              "*/*":
                schema:
                  type: object
                  properties:
                    transaction_id:
                      type: string
                      description: Transaction ID
          "404":
            description: MRC400 not found
  /mrc402/{mrc402id}:
    get:
      tags:
        - MRC402
      summary: GET MRC402 Token
      parameters:
        - name: mrc402id
          in: path
          example: "MRC400_db7da6bc848ba62e621aede40f75dc760_0000000000000000000000000000000000000001"
          description: MRC402 Token ID
          required: true
          schema:
            type: string
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/MRC400"
        "404":
          description: MRC400 not found
  /mrc402/transfer/{mrc402id}:
    post:
      tags:
        - MRC402
      summary: Transfer ownership of the MRC402 token to another user.
      parameters:
        - name: mrc402id
          in: path
          description: MRC402 Token ID
          required: true
          schema:
            type: string
            minLength: 81
            maxLength: 81
        - name: fromAddr
          in: query
          schema:
            type: string
            format: Metacoin Address
            minLength: 40
            maxLength: 40
          description: Current owner of item MRC402
          required: true
        - name: toAddr
          in: query
          schema:
            type: string
            format: Metacoin Address
            minLength: 40
            maxLength: 40
          description: Address to receive ownership of MRC402 token
          required: true
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat fromAddr, toAddr, url, tkey
            - ex) ecdsa_sign(privatekey of owner address, fromAddr +'|'+ toAddr +'|'+ mrc402id +'|'+tkey)
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "404":
          description: MRC400 not found

  /mrc402/sell/{mrc402id}:
    post:
      tags:
        - MRC402
      summary: Sell MRC402 Token
      description: |
        - Sell ​​MRC402 tokens.
        - If other users purchase tokens, they will receive the specified amount of sales.
        - If `sell_fee` is 10, 10% of the transaction amount will be transferred to the MRC400 token holder designated in the MRC402 token, and only 90% of the fee excluding the 10% fee will be received by the MRC402 token holder.
        - If the value of `sell_fee` is 0, no commission is paid.
      parameters:
        - name: seller
          in: query
          schema:
            type: string
            format: Metacoin Adderess
        - name: mrc402id
          in: path
          description: |
            - MRC400 Token ID
            - The mrc400 token ID of the mrc402 item specified in itemdata.
          required: true
          schema:
            type: string
            minLength: 40
            maxLength: 40
        - name: itemdata
          in: query
          description: MRC402 Token information to be sold
          schema:
            type: array
            format: json
            minItems: 1
            maxItems: 100
            items:
              type: object
              properties:
                id:
                  example: "MRC400_db7da6bc848ba62e621aede40f75dc760_0000000000000000000000000000000000000001"
                  type: string
                  minLength: 81
                  maxLength: 81
                  description: |
                    - MRC402 Item ID
                    - It is the MRC402 Token belonging to the token specified in mrc400id
                price:
                  example: "10000000000"
                  type: string
                  format: integer
                  minimum: 1
                  maximum: 9999999999999999999999999999999999999999
                  description: sale price
                token:
                  example: "0"
                  type: string
                  format: integer
                  minimum: 1
                  maximum: 9999999999999999999999999999999999999999
                  description: |
                    - This is the token that the owner will receive when melting this token.
                    - Only allowtoken and "0" specified in MRC400 are possible.
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat seller, itemdata, tkey
            - ex) ecdsa_sign(privatekey of owner address, seller +'|'+ itemdata +'|'+ tkey)
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "404":
          description: MRC400 not found
  /mrc402/unsell/{mrc402_dex_id}:
    post:
      tags:
        - MRC402
      summary: MRC402 token sale canceled
      parameters:
        - name: seller
          in: query
          description: MRC402 Token owner address
          schema:
            type: string
            format: Metacoin Adderess
        - name: mrc402_dex_id
          in: path
          description: |
            - MRC402 DEX ID
          required: true
          schema:
            type: string
            minLength: 40
            maxLength: 40
        - name: itemdata
          in: query
          description: |
            - MRC402 Token id list to be sale cancel
            - It is the MRC402 Token belonging to the token specified in mrc400id
          example: '{"MRC400_db7da6bc848ba62e621aede40f75dc760_0000000000000000000000000000000000000001","MRC400_db7da6bc848ba62e621aede40f75dc760_0000000000000000000000000000000000000002"}'
          schema:
            type: array
            format: json
            minItems: 1
            maxItems: 100
            items:
              type: string
              minLength: 81
              maxLength: 81
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat seller, itemdata, tkey
            - ex) ecdsa_sign(privatekey of owner address, seller +'|'+ itemdata +'|'+ tkey)
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "404":
          description: MRC400 not found
  /mrc402/buy/{mrc402id}:
    post:
      tags:
        - MRC402
      summary: Buy MRC402 Token
      parameters:
        - name: mrc402id
          in: path
          example: MRC400_dd1605be6960d9d6ba7bbeed9da033980_0000000000000000000000000000000000000001
          description: MRC402 Token ID
          required: true
          schema:
            type: string
            minLength: 81
            maxLength: 81
        - name: buyer
          in: query
          description: MRC402 Token buyer address
          schema:
            type: string
            format: Metacoin Adderess
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat mrc402id, tkey
            - ex) ecdsa_sign(privatekey of owner address, mrc402id +'|'+ tkey)
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "404":
          description: MRC400 not found
  /mrc402/melt/{mrc402id}:
    post:
      tags:
        - MRC402
      summary: Melt MRC402
      description: |
        - Melt the MRC402 token.
        - Once melted, the item cannot be transferred or sold to others.
        - When the MRC402 Token is created, it will be received in the owner's wallet as much as the `initial_price`.
        - If the `meltint_fee` is 10, 10% of the initial_price will be transferred to the MRC400 token holder specified in the MRC402 token, and only 90% of the fee excluding the 10% fee will be received by the MRC402 token holder.
        - If the value of `meltint_fee` is 0, no fee is paid.
      parameters:
        - name: mrc402id
          in: path
          description: MRC402 Token ID
          required: true
          schema:
            type: string
            minLength: 81
            maxLength: 81
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat mrc402id, tkey
            - ex) ecdsa_sign(privatekey of owner address, mrc402id +'|'+ tkey)
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "404":
          description: MRC400 not found

  /mrc402/auction/{mrc402id}:
    post:
      tags:
        - MRC402
      summary: Auction MRC402 Token
      description: |
        - Auction ​​MRC402 tokens.
        - You can cancel an auction using the /mrc402/unauction protocol.
        - If there is a bidder, the auction cannot be canceled.
        - If `sell_fee` is 10, 10% of the transaction amount will be transferred to the MRC400 token holder designated in the MRC402 token, and only 90% of the fee excluding the 10% fee will be received by the MRC402 token holder.
        - If the value of `sell_fee` is 0, no commission is paid.
      parameters:
        - name: seller
          in: query
          schema:
            type: string
            format: Metacoin Adderess
        - name: mrc402id
          in: path
          description: |
            - MRC402 Token ID
          required: true
          schema:
            type: string
            minLength: 40
            maxLength: 40
        - name: itemdata
          in: query
          description: MRC402 Token information to be auction
          schema:
            type: array
            format: json
            minItems: 1
            maxItems: 100
            items:
              type: object
              properties:
                id:
                  example: "MRC400_db7da6bc848ba62e621aede40f75dc760_0000000000000000000000000000000000000001"
                  type: string
                  minLength: 81
                  maxLength: 81
                  description: |
                    - MRC402 Item ID for auction
                    - It is the MRC402 Token belonging to the token specified in mrc400id
                start:
                  example: "100"
                  type: string
                  format: integer
                  minimum: 1
                  maximum: 9999999999999999999999999999999999999999
                  description: auction start price
                bnynow:
                  example: "500"
                  type: string
                  format: integer
                  minimum: 1
                  maximum: 9999999999999999999999999999999999999999
                  description: |
                    - auction buynow price
                    - If this value is 0, you cannot purchase immediately.
                bidding:
                  example: "1"
                  type: string
                  format: integer
                  minimum: 1
                  maximum: 9999999999999999999999999999999999999999
                  description: |
                    - Auction bidding unit
                    - If this value is 5, the amount that can be bid is a multiple of 5 + the starting price of the auction.
                token:
                  example: "0"
                  type: string
                  format: integer
                  minimum: 1
                  maximum: 9999999999999999999999999999999999999999
                  description: |
                    - Specify the tokens that can be used for auctions.
                    - Only allowtoken and "0" (Metacoin) specified in MRC400 are allowed.
                end:
                  example: "0"
                  type: string
                  format: UnixTimestamp (UTC)
                  minLength: 10
                  maxLength: 10
                  description: |
                    - The time the auction ends.
                    - The minimum value of this value is + 1 hour from the time the packet is transmitted.
                    - The maximum value of this value is +21 days from the time the packet is transmitted.
                    - **If this value is less than the current time + 1 hour, it is set as the current time + 1 hour.**
                    - **If this value is greater than the current time + 21 days, it is set as the current time + 21 days.**
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat seller, itemdata, tkey
            - ex) ecdsa_sign(privatekey of owner address, seller +'|'+ itemdata +'|'+ tkey)
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "404":
          description: MRC400 not found

  /mrc402/unauction/{mrc402_dex_id}:
    post:
      tags:
        - MRC402
      summary: MRC402 token auction canceled
      description: |
        - If there is a bidder, the auction cannot be canceled.
      parameters:
        - name: seller
          in: query
          description: MRC402 Token owner address
          schema:
            type: string
            format: Metacoin Adderess
        - name: mrc402_dex_id
          in: path
          description: |
            - MRC402 DEX ID
          required: true
          schema:
            type: string
            minLength: 40
            maxLength: 40
        - name: itemdata
          in: query
          description: |
            - MRC402 Token id list to be sale cancel
            - It is the MRC402 Token belonging to the token specified in mrc400id
          example: '{"MRC400_db7da6bc848ba62e621aede40f75dc760_0000000000000000000000000000000000000001","MRC400_db7da6bc848ba62e621aede40f75dc760_0000000000000000000000000000000000000002"}'
          schema:
            type: array
            format: json
            minItems: 1
            maxItems: 100
            items:
              type: string
              minLength: 81
              maxLength: 81
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat seller, itemdata, tkey
            - ex) ecdsa_sign(privatekey of owner address, seller +'|'+ itemdata +'|'+ tkey)
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "404":
          description: MRC400 not found

  /mrc402/bid/{mrc402id}:
    post:
      tags:
        - MRC402
      summary: Bid MRC402 Token
      parameters:
        - name: mrc402id
          in: path
          example: MRC400_dd1605be6960d9d6ba7bbeed9da033980_0000000000000000000000000000000000000001
          description: MRC402 Token ID
          required: true
          schema:
            type: string
            minLength: 81
            maxLength: 81
        - name: buyer
          in: query
          description: MRC402 Token auction bidder address
          schema:
            type: string
            format: Metacoin Adderess
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: amount
          in: query
          example: "100"
          schema:
            type: string
            format: integer
            minimum: 1
            maximum: 9999999999999999999999999999999999999999
          description: |
            - auction bid amount
            - If there are no bidders, it must be equal to or greater than the starting price of the auction.
            - If there is a bidder, it must be greater than the current bid amount.
            - The bid amount must be equal to the auction opening price or the auction opening price plus a multiple of the auction bid units.
            - If there are no bidders and the auction start price is 100 and the bid unit is 5, it must be 100, 105, 110, ...
            - If there is a bidder, the current bid is 120, the auction starting price is 100, and the bid unit is 5, it should be 125, 130, 135, ...
        - name: token
          in: query
          example: "0"
          schema:
            type: string
            format: integer
            minimum: 1
            maximum: 9999999999999999999999999999999999999999
          description: |
            - This value should be the ID of the token specified to be used in the auction.
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat mrc402id, amount, token, tkey
            - ex) ecdsa_sign(privatekey of owner address, mrc402id +'|'+ amount + '|' + token + '|' + tkey)
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "404":
          description: MRC400 not found


  /mrc402/auctionfinish/{mrc402id}:
    get:
      tags:
        - MRC402
      summary: Finish MRC402 token auction
      description: |
        - Process the auction closing.
        - This replaces the JobScheduler inside the BlockChain.
        - It can be called without permission or signature, and the auction is closed according to the already established procedure.
        - If you call it before the auction end time, you will get an error.
        - If you call for an auction that has already ended, you will get an error.
      parameters:
        - name: mrc402id
          in: path
          example: MRC400_dd1605be6960d9d6ba7bbeed9da033980_0000000000000000000000000000000000000001
          description: MRC402 Token ID
          required: true
          schema:
            type: string
            minLength: 81
            maxLength: 81
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "404":
          description: MRC400 not found


  /address:
    post:
      tags:
        - Address
      summary: Create new Adderess
      description: |
        # Warning!!
        - An ECDSA private key that is paired with the ECDSA public key is used to authorize the transfer.
        - When you make your wallet, please keep the Private Key that is paired with the Public Key you sent in a safe place.
        - If you lose your private key, you can not claim your wallet.
        - ECDSA curve is prime256v1(secp256r1) or secp384r1 or secp521r1.
      parameters:
        - name: publickey
          in: query
          schema:
            type: string
            format: pem encoding
          description: ECDSA Public key for signing
          required: true
        - name: addinfo
          in: query
          schema:
            type: string
            minLength: 0
            maxLength: 2048
          description: |
            - Address memo
            - Up to 2048 characters are stored, and characters after 2048 characters are not stored.
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: string
                format: Metacoin Address
                description: new Metacoin address
        "405":
          description: Missing or invalid RSA key
      x-code-samples:
        - lang: nodejs
          source: |
            const crypto = require('crypto');
            const axios = require('axios');

            // testnet
            var hostname = "https://testnetrest.metacoin.network:20923";
            // mainnet
            // hostname = "https://rest.metacoin.network:20923";

            function create_address() {
                return new Promise((resolve, reject) => {
                    crypto.generateKeyPair("ec", {
                        namedCurve: "secp384r1",  // prime256v1, secp384r1, secp521r1
                        publicKeyEncoding: {
                            type: 'spki',
                            format: 'pem'
                        },
                        privateKeyEncoding: {
                            type: 'pkcs8',
                            format: 'pem'
                        }
                    }, (err, public_key, private_key) => {
                        if (err != null) {
                            return reject(err.message);
                        }

                        axios.post(hostname + '/address', {
                            'publickey': public_key
                        })
                            .then(function (response) {
                                if (response.status != 200) {
                                    return Promise.reject("MTC server response errror");
                                } else {
                                    return Promise.resolve(response.data);
                                }
                            })
                            .then(function (mtc_address) {
                                return resolve({ "Address": mtc_address, "publicKey": public_key, "PrivateKey": private_key });
                            })
                            .catch(function (error) {
                                return reject(error);
                            });
                    });
                });
            }

            create_address()
                .then((v) => {
                    console.log('Metacoin Address', v.Address);
                    console.log('Public Key', v.publicKey);
                    console.log('Private Key', v.PrivateKey);
                })
                .catch((err) => {
                    console.log(err);
                });

        - lang: PHP
          source: |
            <?php
            // testnet
            define('MTC_HOST', 'https://testnetrest.metacoin.network:20923');
            // mainnet
            // define('MTC_HOST', 'https://rest.metacoin.network:20923');
            function mtc_post($uri, $param){
                $curl = curl_init();
                $opt = curl_setopt_array($curl, array(
                    CURLOPT_URL => MTC_HOST . $uri,
                    CURLOPT_RETURNTRANSFER => true,
                    CURLOPT_CONNECTTIMEOUT => 5,
                    CURLOPT_TIMEOUT => 20,
                    CURLOPT_SSL_VERIFYPEER => false,
                    CURLOPT_SSL_VERIFYHOST => false,
                    CURLOPT_POSTFIELDS => http_build_query($param),
                    CURLOPT_POST => true,
                    CURLOPT_HTTPHEADER => array('Content-Type: application/x-www-form-urlencoded')
                ));
                $body = curl_exec($curl);

                $http_code = curl_getinfo($curl, CURLINFO_HTTP_CODE);
                $err_msg = '';
                $err_code = curl_errno($curl);
                if ($err_code) {
                    $err_msg = curl_error($curl);
                }

                printf("Response Http Code: %s, msg: %s\n", $http_code, $body);
                if ($err_code) {
                    printf("Response CurlCode: %s, msg: %s\n", $err_code, $body);
                }

                curl_close($curl);
                $curl = null;

                return $body;
            }
            $new_key_pair = openssl_pkey_new(array(
                "private_key_type" => OPENSSL_KEYTYPE_EC,
                'curve_name' => 'secp384r1', // prime256v1, secp384r1, secp521r1

            ));
            openssl_pkey_export($new_key_pair, $private_key_pem);
            $details = openssl_pkey_get_details($new_key_pair);
            $public_key_pem = $details['key'];

            $param = array(
                'publickey' => $public_key_pem,
                'addinfo' => 'It is Address extra info !!');

            $body = mtc_post('/address', $param);
            printf("New address %s\n", $body);
            printf("Private Key\n%s\n", $private_key_pem);
            printf("Public Key\n%s\n", $public_key_pem);

  /address/{address}:
    get:
      tags:
        - Address
      summary: Get address status
      parameters:
        - name: address
          in: path
          description: Metacoin address
          required: true
          schema:
            type: string
            format: Metacoin Address
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/address"
        "404":
          description: Address not found
  /address/bykey:
    post:
      tags:
        - Address
      summary: Get address list by public key
      parameters:
        - name: publickey
          in: query
          description: |
            - Metacoin address's public key
            - ignore carriage return, line feed, "-----BEGIN PUBLIC KEY-----", "-----END PUBLIC KEY-----"
          required: true
          schema:
            type: string
          example: -----BEGIN PUBLIC KEY-----\nMIGbMBAGByqGSM49AgEGBSuBBAAjA4GGAAQBBp5oHHFaATF1UIephJYgtW+u2+aT\nhZLxNgn5JZhgFXzvTUHlThZxb61eTXMMjyU/IloNznwtzRWuPq1oMDOMq9oBbT/t\nE4lgyPF5/QtzuhaaYRpr/ahZ4JSLyHOegkopXeic3UFUmkpb4mXuSGgu5mChuuUC\nktjfluGNtvXHOWYtqTU=\n-----END PUBLIC KEY-----
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: array
                items:
                  example: MTATLnT6SGKE8RU0CBPoDRfUXL5lr4SLece1a6ee
                  type: string
                  format: Metacoin Address
                  maxLength: 40
                  minLength: 40
        "404":
          description: Address not found
      x-code-samples:
        - lang: nodejs
          source: |
            const crypto = require('crypto');
            const axios = require('axios');

            // testnet
            var hostname = "https://testnetrest.metacoin.network:20923";
            // mainnet
            // hostname = "https://rest.metacoin.network:20923";

            var public_key = "-----BEGIN PUBLIC KEY-----\nMIGbMBAGByqGSM49AgEGBSuBBAAjA4GGAAQBBp5oHHFaATF1UIephJYgtW+u2+aT\nhZLxNgn5JZhgFXzvTUHlThZxb61eTXMMjyU/IloNznwtzRWuPq1oMDOMq9oBbT/t\nE4lgyPF5/QtzuhaaYRpr/ahZ4JSLyHOegkopXeic3UFUmkpb4mXuSGgu5mChuuUC\nktjfluGNtvXHOWYtqTU=\n-----END PUBLIC KEY-----";
            // public_key = "MIGbMBAGByqGSM49AgEGBSuBBAAjA4GGAAQBBp5oHHFaATF1UIephJYgtW+u2+aThZLxNgn5JZhgFXzvTUHlThZxb61eTXMMjyU/IloNznwtzRWuPq1oMDOMq9oBbT/tE4lgyPF5/QtzuhaaYRpr/ahZ4JSLyHOegkopXeic3UFUmkpb4mXuSGgu5mChuuUCktjfluGNtvXHOWYtqTU=";

            axios.post(hostname + '/address/bykey', {
              'publickey': public_key
            }, {
              proxy: {
                host: '127.0.0.1',
                port: 8888
              }
            })
              .then(function (response) {
                if (response.status != 200) {
                  return Promise.reject("Metacoin server response error");
                } else {
                  return Promise.resolve(response.data);
                }
              })
              .then(function (mtc_address) {
                // ["MT4FzIQCgRh0T1YD841OxjNd3dkfTJcEd41d17d3"]
                console.log(mtc_address);
              })
              .catch(function (error) {
                if (error.response.status == 404) {
                  console.log("Address not found");
                } else {
                  console.log(error);
                }
              });



        - lang: PHP
          source: |
            <?php
            // testnet
            define('MTC_HOST', 'https://testnetrest.metacoin.network:20923');
            // mainnet
            // define('MTC_HOST', 'https://rest.metacoin.network:20923');
            function mtc_post($uri, $param){
                $curl = curl_init();
                $opt = curl_setopt_array($curl, array(
                    CURLOPT_URL => MTC_HOST . $uri,
                    CURLOPT_RETURNTRANSFER => true,
                    CURLOPT_CONNECTTIMEOUT => 5,
                    CURLOPT_TIMEOUT => 20,
                    CURLOPT_SSL_VERIFYPEER => false,
                    CURLOPT_SSL_VERIFYHOST => false,
                    CURLOPT_POSTFIELDS => http_build_query($param),
                    CURLOPT_POST => true,
                    CURLOPT_HTTPHEADER => array('Content-Type: application/x-www-form-urlencoded')
                ));
                $body = curl_exec($curl);

                $http_code = curl_getinfo($curl, CURLINFO_HTTP_CODE);
                $err_msg = '';
                $err_code = curl_errno($curl);
                if ($err_code) {
                    $err_msg = curl_error($curl);
                }

                printf("Response Http Code: %s, msg: %s\n", $http_code, $body);
                if ($err_code) {
                    printf("Response CurlCode: %s, msg: %s\n", $err_code, $body);
                }

                curl_close($curl);
                $curl = null;

                return $body;
            }

            $param = array(
                'publickey' => "-----BEGIN PUBLIC KEY-----\nMIGbMBAGByqGSM49AgEGBSuBBAAjA4GGAAQBBp5oHHFaATF1UIephJYgtW+u2+aT\nhZLxNgn5JZhgFXzvTUHlThZxb61eTXMMjyU/IloNznwtzRWuPq1oMDOMq9oBbT/t\nE4lgyPF5/QtzuhaaYRpr/ahZ4JSLyHOegkopXeic3UFUmkpb4mXuSGgu5mChuuUC\nktjfluGNtvXHOWYtqTU=\n-----END PUBLIC KEY-----");

            $body = mtc_post('/address/bykey', $param);
            printf("Address list : %s\n", $body);
  /nonce/{address}:
    get:
      tags:
        - Address
      summary: Get Temporary key(nonce) for ganerate transaction(ex Transfer, Dapp Create or Token Create)
      description: |
        - By using the signature value recorded in the transaction, the key value is obtained to prevent duplicate calls by other users.
        - In the existing blockchain, the nonce value is a serial number that means the number of TX occurrences, but in Metacoin, it is a random key value.
        - This command replaces the existing "getkey" API.
      parameters:
        - name: address
          in: path
          required: true
          description: |
            Address to get nonce value
          schema:
            type: string
            format: Metacoin address
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: string
                description: Temporary key for transaction
        "400":
          description: address not exists

  /balance/{address}:
    get:
      tags:
        - Balance
      summary: Get balance of address
      parameters:
        - name: address
          in: path
          description: Metacoin address
          required: true
          schema:
            type: string
            format: Metacoin address
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/balance"
        "404":
          description: Address not found

  /balance/{address}/{token}:
    get:
      tags:
        - Balance
      summary: Get balance of address
      parameters:
        - name: address
          in: path
          description: Metacoin address
          required: true
          schema:
            type: string
            format: Metacoin address
        - name: token
          in: path
          description: Metacoin token id
          required: true
          schema:
            type: string
            format: int32
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/balance"
        "404":
          description: Address not found
        "405":
          description: Token not found

  /block/:
    get:
      tags:
        - Block
      summary: Get last block info
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: string
                description: Last block number

  /block/{block}:
    get:
      tags:
        - Block
      summary: Get Block info and Transaction ID in block
      parameters:
        - name: block
          in: path
          description: Block number or Block HASH
          required: true
          schema:
            type: string
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/Block"
        "404":
          description: Block not found

  /transaction/{transaction_id}:
    get:
      tags:
        - Block
      summary: Get Transaction info
      parameters:
        - name: transaction_id
          in: path
          description: Transaction ID
          required: true
          schema:
            type: string
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/Transaction"
        "404":
          description: Transaction not found

  /token/{token}:
    get:
      tags:
        - Token
      summary: Get Token info
      parameters:
        - name: token
          in: path
          description: Token ID
          required: true
          schema:
            type: string
            format: int32
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  owner:
                    description: Token Creator
                    type: string
                    format: Metacoin address
                  symbol:
                    description: Token Symbol
                    type: string
                  createdate:
                    description: Token Create Date - ignore for token create.
                    type: integer
                    format: UnixTimestamp (UTC)
                  totalsupply:
                    description: Total amount
                    type: string
                    format: decimal
                  reservedamount:
                    description: Reserve token amount for owner
                    type: string
                    format: decimal
                  remainamount:
                    description: Remain amount - ignore for token create.
                    type: string
                    format: decimal
                  token:
                    description: Token ID
                    type: integer
                  name:
                    description: Token name
                    type: string
                  category:
                    description: Token Category
                    type: string
                  status:
                    description: Token status
                    type: string
                  decimal:
                    description: decimal point count
                    type: integer
                  tier:
                    type: array
                    items:
                      $ref: "#/components/schemas/Tier"
                  url:
                    description: Token Creator URL
                    type: string
                  circulation_supply:
                    description: Circulating supply
                    type: string
        "404":
          description: Token not found

  /token:
    post:
      tags:
        - Token
      summary: Token save
      parameters:
        - name: owner
          in: query
          description: Token Creator
          required: true
          schema:
            type: string
            format: Metacoin address
        - name: symbol
          in: query
          description: Token Symbol
          required: true
          schema:
            type: string
            format: integer
        - name: totalsupply
          in: query
          description: Total amount
          schema:
            type: string
            format: decimal
        - name: image
          in: query
          description: |
            - Token image
            - Metacoin Network does not change / modify the attached IMAGE
            - If the attached image contains political, religious, or racial discrimination, or if it clearly violates international law or the laws of Hong Kong to which INBLOCK belongs, the coin may not be displayed on the Metacoin network
          schema:
            type: string
            format: The "data" URL scheme(https://tools.ietf.org/html/rfc2397)
          example: data:image/jpeg;base64,/9j/4AAQSkZJRgABAAEAlgCWAAD//gAfTEVBR ...

        - name: reservedamount
          in: query
          description: Reserve token amount for owner
          schema:
            type: string
            format: decimal
        - name: remainamount
          in: query
          description: Remain amount - ignore for token create.
          schema:
            type: string
            format: decimal
        - name: reserve
          in: query
          schema:
            type: array
            items:
              $ref: "#/components/schemas/Reserve"
        - name: name
          in: query
          required: true
          description: Token name
          schema:
            type: string
        - name: category
          in: query
          description: Token Category
          schema:
            type: string
        - name: decimal
          in: query
          description: Token status
          schema:
            type: integer
        - name: tier
          in: query
          schema:
            type: array
            items:
              $ref: "#/components/schemas/Tier"
        - name: url
          in: query
          description: Token Creator URL
          schema:
            type: string
        - name: Temporarykey
          in: query
          required: true
          schema:
            type: string
          description: Temporary key for signing - using only transfer, not recording
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for data.
            - ex) ecdsa_sign(privatekey of owner address, owner +'|'+ symbol +'|'+ token +'|'+name+'|'+url +'|'+Temporarykey)
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: string
        "412":
          description: token save error

  /token/{tkey}:
    post:
      tags:
        - Token
      summary: Token create
      parameters:
        - name: tkey
          in: path
          description: Temporary key for Sign(return value of GET /getkey/token/`owner`)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat token.owner, token.name, tkey
            - ex) ecdsa_sign(token owner's privatekey, token.owner + '|' + token.name + '|' + tkey)
      responses:
        "200":
          description: successful create token.
        "400":
          description: token create error.

  /token/burn/{tkey}:
    put:
      tags:
        - Token
      summary: Token descriments
      description: |
        Decrements tokens by quantity

        The amount burned will be deducted from the token owner's wallet.
      parameters:
        - name: tkey
          in: path
          required: true
          description: Temporary key for Sign(return value of GET /getkey/token/{tokwn owner})
          schema:
            type: string
            format: int32
        - name: token
          in: query
          required: true
          description: Token ID
          schema:
            type: string
            format: integer
        - name: amount
          in: query
          required: true
          description: Token burning amount
          schema:
            type: string
            format: integer
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat Address of Token owner, token, tkey
            - ex) ecdsa_sign(token owner's privatekey, Token ID + '|' + amount + '|' + tkey)
      responses:
        "200":
          description: successful operation
        "404":
          description: Token not found

  /token/increase/{tkey}:
    put:
      tags:
        - Token
      summary: Token increments
      description: |
        Increments tokens by quantity

        The increased amount is added to the token owner's wallet.
      parameters:
        - name: tkey
          in: path
          description: Temporary key for Sign(return value of GET /getkey/token/{tokwn owner})
          required: true
          schema:
            type: string
            format: int32
        - name: token
          in: query
          required: true
          schema:
            type: string
            format: integer
          description: Token ID
        - name: amount
          in: query
          required: true
          schema:
            type: string
            format: integer
          description: |
            Token increased amount
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat Address of Token owner, token, tkey
            - ex) ecdsa_sign(token owner's privatekey, Token ID + '|' + amount + '|' + tkey)
      responses:
        "200":
          description: successful operation
        "404":
          description: Token not found

  /token/update/{tkey}:
    put:
      tags:
        - Token
      summary: Token information update
      parameters:
        - name: tkey
          in: path
          description: Temporary key for Sign(return value of GET /getkey/token/{tokwn owner})
          required: true
          schema:
            type: string
        - name: url
          in: query
          description: Token Creator URL
          required: true
          schema:
            type: string
        - name: info
          in: query
          description: Token Info
          required: true
          schema:
            type: string
        - name: image
          in: query
          description: Token Image
          required: true
          schema:
            type: string
            format: https://tools.ietf.org/html/rfc2397
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat Address of Token owner, token, tkey
            - ex) ecdsa_sign(token owner's privatekey, Token ID + '|' + url + '|' + info + '|' + image + '|' + tkey)
      responses:
        "200":
          description: successful create token.
        "400":
          description: token update error.
  /token/dex/{mrc010dexid}:
    get:
      tags:
        - Token
      summary: Get information of MRC010 DEX
      parameters:
        - name: mrc010dexid
          in: path
          description: MRC010 DEX ID
          required: true
          schema:
            type: string
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/MRC010DEX"
        "404":
          description: MRC010 DEX not found

  /token/sell/{mrc010id}:
    post:
      tags:
        - Token
      summary: Sell MR010(Token)
      description: |
        - If other users purchase tokens, they will receive the specified amount of sales.
        - If 'platform_commission' is 10, the seller receives only 90% of the commission excluding the 10% commission.
        - If the value of `platform_commission` is 0, no commission is paid.
        - You can sell Metacoin or MRC010 token as Metacoin or MRC010 token.
        - Tokens or coins being sold are traded in a decentralized manner.
        - This is the true meaning of DEX.
        - You can designate a platform that takes a certain percentage of the transaction price when trading.
        - The transaction amount is the minimum amount per transaction unit.
      parameters:
        - name: mrc010id
          in: path
          required: true
          schema:
            type: string
            format: integer
          description: |
            - ID of the token you want to sell
        - name: address
          in: query
          required: true
          schema:
            type: string
            format: Metacoin Adderess
          description: |
            - The seller's metacoin address
        - name: amount
          in: query
          description: |
            - Quantity of tokens to be sold
          required: true
          schema:
            type: string
            format: integer
        - name: min_trade_unit
          in: query
          description: |
            - Minimum sales quantity
            - When purchasing this dex, the purchase quantity must be a multiple of this value.
            - If not specified, it is treated as "1".
          required: false
          schema:
            type: string
            enum:
              - 1
              - 10
              - 100
              - 1000
              - 10000
              - 100000
              - 1000000
              - 10000000
              - 100000000
        - name: token
          in: query
          required: true
          schema:
            type: string
            format: integer
          description: ID of the token to be paid for when purchasing
        - name: price
          in: query
          required: true
          schema:
            type: string
            format: integer
          description: Amount to be paid for purchase per `min_trade_unit`
        - name: platform_name
          in: query
          required: false
          schema:
            type: string
            format: integer
          description: The name of the platform that supports this DEX transaction
          example: Mefi
        - name: platform_url
          in: query
          required: false
          schema:
            type: string
            format: url
          description: The URL of the platform that supports this DEX transaction
          example: https://mefi.io
        - name: platform_commission
          in: query
          required: false
          schema:
            type: string
            format: float
            minimum: 0.00
            maximum: 10.00
          example: 5.75
          description: |
            - Percentage of fees taken from the platform when a transaction is concluded
            - If the value of `platform_address` is not specified, no fee is paid.
        - name: platform_address
          in: query
          required: false
          schema:
            type: string
            format: Metacoin address
          description: |
            - Metacoin address to receive commission if the value of platform_commission is greater than 0
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
          description: |
            - ECDSA sign for concat seller address, amount, mrc010id, price, token, platform_name, platform_url, platform_address, platform_commission, tkey
            - ex) ecdsa_sign(privatekey of seller address, address +'|'+ amount +'|'+ mrc010id +'|'+ 
            price +'|'+ token +'|'+ platform_name +'|'+ platform_url +'|'+ platform_address +'|'+ platform_commission +'|'+ tkey)
      responses:
        "200":
          description: successful operation
          content: 
            '*/*':
              schema:
                allOf:
                  - $ref: '#/components/schemas/txresponse'
                properties:
                  mrc010dexid:
                    type: string
                    description: |
                      - MRC010 DEX ID
                      - This value is used when canceling a sale or making a purchase.
        "400":
          $ref: "#/components/responses/nodeerror"

        "412":
          $ref: "#/components/responses/paramerror"


  /token/buy/{mrc010dexid}:
    post:
      tags:
        - Token
      summary: MRC010 Token Sale Cancellation
      parameters:
        - name: mrc010dexid
          in: path
          description: MRC010 DEX ID
          required: true
          schema:
            type: string
            format: MRC010 DEX ID
        - name: amount
          in: query
          description: buy amount
          required: true
          schema:
            type: string
            format: integer
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat seller, itemdata, tkey
            - ex) ecdsa_sign(privatekey of mrc010dexid creator address, mrc010dexid +'|'+ tkey)
      responses:
        "200":
          $ref: '#/components/responses/txresponse'

        "400":
          $ref: "#/components/responses/nodeerror"

        "412":
          $ref: "#/components/responses/paramerror"

  /token/unsell/{mrc010dexid}:
    post:
      tags:
        - Token
      summary: MRC010 Token Sale Cancellation
      parameters:
        - name: mrc010dexid
          in: path
          description: MRC010 DEX ID
          required: true
          schema:
            type: string
            format: MRC010 DEX ID
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat seller, itemdata, tkey
            - ex) ecdsa_sign(privatekey of mrc010dexid creator address, mrc010dexid +'|'+ tkey)
      responses:
        "200":
          $ref: '#/components/responses/txresponse'

        "400":
          $ref: "#/components/responses/nodeerror"

        "412":
          $ref: "#/components/responses/paramerror"




  /token/reqsell/{mrc010id}:
    post:
      tags:
        - Token
      summary: Request sell MR010(Token)
      description: |
        - Register DEX to purchase token ID `mrc010` by paying the price per `min_trade_unit` for token ID `token`.
        - If 'platform_commission' is 10, you must pay an additional 10% of the purchase amount, and 10% of the transaction amount is sent to the platform_address when making a transaction.
        - If the 'platform_commission' value is 0, no commission is paid.
        - You can sell Metacoin or MRC010 tokens as Metacoin or MRC010 tokens.
        - The tokens or coins sold are traded in a decentralized way.
      parameters:
        - name: mrc010id
          in: path
          required: true
          schema:
            type: string
            format: integer
          description: |
            - ID of the token you want to buy
        - name: address
          in: query
          required: true
          schema:
            type: string
            format: Metacoin Adderess
          description: |
            - The seller's metacoin address
        - name: amount
          in: query
          description: |
            - Quantity of tokens to be buy
          required: true
          schema:
            type: string
            format: integer
        - name: min_trade_unit
          in: query
          description: |
            - Minimum purchase quantity
            - When accepting this purchase requisition, the quantity must be a multiple of this value.
            - If not specified, it is treated as "1".
          required: false
          schema:
            type: string
            enum:
              - 1
              - 10
              - 100
              - 1000
              - 10000
              - 100000
              - 1000000
              - 10000000
              - 100000000
        - name: token
          in: query
          required: true
          schema:
            type: string
            format: integer
          description: ID of the token to be paid to the seller
        - name: price
          in: query
          required: true
          schema:
            type: string
            format: integer
          description: Amount to be paid for purchase per `min_trade_unit`
        - name: platform_name
          in: query
          required: false
          schema:
            type: string
            format: integer
          description: The name of the platform that supports this DEX transaction
          example: Mefi
        - name: platform_url
          in: query
          required: false
          schema:
            type: string
            format: url
          description: The URL of the platform that supports this DEX transaction
          example: https://mefi.io
        - name: platform_commission
          in: query
          required: false
          schema:
            type: string
            format: float
            minimum: 0.00
            maximum: 10.00
          example: 5.75
          description: |
            - Percentage of fees taken from the platform when a transaction is concluded
            - If the value of `platform_address` is not specified, no fee is paid.
        - name: platform_address
          in: query
          required: false
          schema:
            type: string
            format: Metacoin address
          description: |
            - Metacoin address to receive commission if the value of platform_commission is greater than 0
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
          description: |
            - ECDSA sign for concat seller address, amount, mrc010id, price, token, platform_name, platform_url, platform_address, platform_commission, tkey
            - ex) ecdsa_sign(privatekey of seller address, address +'|'+ amount +'|'+ mrc010id +'|'+ 
            price +'|'+ token +'|'+ platform_name +'|'+ platform_url +'|'+ platform_address +'|'+ platform_commission +'|'+ tkey)
      responses:
        "200":
          description: successful operation
          content: 
            '*/*':
              schema:
                allOf:
                  - $ref: '#/components/schemas/txresponse'
                properties:
                  mrc010dexid:
                    type: string
                    description: |
                      - MRC010 DEX ID
                      - This value is used when canceling a sale or making a purchase.
        "400":
          $ref: "#/components/responses/nodeerror"

        "412":
          $ref: "#/components/responses/paramerror"


  /token/acceptreqsell/{mrc010dexid}:
    post:
      tags:
        - Token
      summary: Accepting a sales request
      parameters:
        - name: mrc010dexid
          in: path
          description: MRC010 DEX ID
          required: true
          schema:
            type: string
            format: MRC010 DEX ID
        - name: amount
          in: query
          description: buy amount
          required: true
          schema:
            type: string
            format: integer
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat seller, itemdata, tkey
            - ex) ecdsa_sign(privatekey of mrc010dexid creator address, mrc010dexid +'|'+ tkey)
      responses:
        "200":
          $ref: '#/components/responses/txresponse'

        "400":
          $ref: "#/components/responses/nodeerror"

        "412":
          $ref: "#/components/responses/paramerror"

  /token/unreqsell/{mrc010dexid}:
    post:
      tags:
        - Token
      summary: Cancel Sales Requisition
      parameters:
        - name: mrc010dexid
          in: path
          description: MRC010 DEX ID
          required: true
          schema:
            type: string
            format: MRC010 DEX ID
        - name: tkey
          in: query
          description: Temporary key for Sign(return value of GET /getkey/transfer)
          required: true
          schema:
            type: string
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat seller, itemdata, tkey
            - ex) ecdsa_sign(privatekey of mrc010dexid creator address, mrc010dexid +'|'+ tkey)
      responses:
        "200":
          $ref: '#/components/responses/txresponse'

        "400":
          $ref: "#/components/responses/nodeerror"

        "412":
          $ref: "#/components/responses/paramerror"


  /transfer:
    post:
      tags:
        - Transfer
      summary: Transfer Metacoin or Token
      parameters:
        - name: from
          in: query
          schema:
            type: string
            format: Metacoin Address
          description: Withdraw address
          required: true
        - name: to
          in: query
          schema:
            type: string
            format: Metacoin Address
          description: Deposit Address
          required: true
        - name: token
          in: query
          schema:
            type: integer
          description: "Token ID, if 0 then Transfer Metacoin"
          required: true
        - name: amount
          in: query
          description: Transfer amount Metacoin or Token
          schema:
            type: string
            format: integer
          required: true
        - name: checkkey
          in: query
          schema:
            type: string
          description: "Temporary key for signing - using only transfer, not recording"
          required: true
        - name: tags
          in: query
          schema:
            type: string
            minLength: 0
            maxLength: 64
          description: |
            - Optional An arbitrary string that identifies a reason for payment or a account
            - Up to 64 characters are stored, and characters after 64 characters are not stored.
        - $ref: "#/components/parameters/memo"
        - $ref: "#/components/parameters/unlockdate"
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat from, to, token, amount, checkkey
            - ex) ecdsa_sign(privatekey of from address, from +'|'+ to +'|'+ token +'|'+ amount+'|' + checkkey)
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "400":
          description: insufficient balance
        "404":
          description: Address not found

      x-code-samples:
        - lang: PHP
          source: |
            <?php
            // testnet
            define('MTC_HOST', 'https://testnetrest.metacoin.network:20923');
            // mainnet
            // define('MTC_HOST', 'https://rest.metacoin.network:20923');


            function mtc_get($uri){
                $curl = curl_init();
                $opt = curl_setopt_array($curl, array(
                    CURLOPT_URL => MTC_HOST . $uri,
                    CURLOPT_RETURNTRANSFER => true,
                    CURLOPT_CONNECTTIMEOUT => 5,
                    CURLOPT_TIMEOUT => 20,
                    CURLOPT_SSL_VERIFYPEER => false,
                    CURLOPT_SSL_VERIFYHOST => false,
                    CURLOPT_POST => false,
                    CURLOPT_CUSTOMREQUEST => 'GET',
                ));

                $body = curl_exec($curl);

                $http_code = curl_getinfo($curl, CURLINFO_HTTP_CODE);
                $err_msg = '';
                $err_code = curl_errno($curl);
                if ($err_code) {
                    $err_msg = curl_error($curl);
                }

                printf("Response Http Code: %s, msg: %s\n", $http_code, $body);
                if ($err_code) {
                    printf("Response CurlCode: %s, msg: %s\n", $err_code, $body);
                }

                curl_close($curl);
                $curl = null;

                return $body;
            }

            function mtc_post($uri, $param){
                $curl = curl_init();
                $opt = curl_setopt_array($curl, array(
                    CURLOPT_URL => MTC_HOST . $uri,
                    CURLOPT_RETURNTRANSFER => true,
                    CURLOPT_CONNECTTIMEOUT => 5,
                    CURLOPT_TIMEOUT => 20,
                    CURLOPT_SSL_VERIFYPEER => false,
                    CURLOPT_SSL_VERIFYHOST => false,
                    CURLOPT_POSTFIELDS => http_build_query($param),
                    CURLOPT_POST => true,
                    CURLOPT_HTTPHEADER => array('Content-Type: application/x-www-form-urlencoded')
                ));
                $body = curl_exec($curl);

                $http_code = curl_getinfo($curl, CURLINFO_HTTP_CODE);
                $err_msg = '';
                $err_code = curl_errno($curl);
                if ($err_code) {
                    $err_msg = curl_error($curl);
                }

                printf("Response Http Code: %s, msg: %s\n", $http_code, $body);
                if ($err_code) {
                    printf("Response CurlCode: %s, msg: %s\n", $err_code, $body);
                }

                curl_close($curl);
                $curl = null;

                return $body;
            }

            // sender address
            $from_addr = "MTW95PhgJaQCc7L4K9I9GrU94d2zSd8DLjkrQ2b5";

            // example private key. this key is not working
            $from_private_key = "-----BEGIN EC PRIVATE KEY-----\r\nMIGkAg3vKK7Ap90qLaVMtxT2XbL1dEBBDCqmxUIZRO/CgFhUmBO3bXRUAn4pF2RX\r\nF9K+NCIw1OugBwYFK4uFzziOGlVLSqaO0xtEab0XEEACKhZANiAAQ5rGDv8H0m8m\r\nVpD64cMzobDGYJ4WeuBhlkpGexfl5PXh7G64TECZEXIrV4FSMUhuntu0CjB2wTJs\r\nNfRLakp5UMv1N2dIgF1CvoTBaWXNudk=\r\n-----END EC PRIVATE KEY-----\r\n";
            $to_addr = "MT....";
            $amount = "100000000"; // 1 MTC
            $token = "0";       // token 0 is MTC
            $tkey = mtc_get('/getkey/transfer/' . $from_addr);

            $data = implode('|', array($from_addr, $to_addr, $token, $amount, $tkey));
            openssl_sign($data, $signature, $from_private_key, OPENSSL_ALGO_SHA384);

            $r = mtc_post('/transfer/',
                array(
                    'from' => $from_addr,
                    'to' => $to_addr,
                    'token' => $token,
                    'amount' => $amount,
                    'signature' => base64_encode($signature),
                    'unlockdate' => '0',
                    'tags' => 'it is tag',
                    'memo' => 'it is memo',
                    'checkkey' => $tkey)
            );
            echo "Transfer $from_addr => $to_addr, Token $token, Amount $amount, TXID $r \r\n";

  /multitransfer:
    post:
      tags:
        - Transfer
      summary: Multi Transfer Metacoin or Token
      parameters:
        - name: from
          in: query
          schema:
            type: string
            format: Metacoin Address
          description: Withdraw address
          required: true
        - name: transferlist
          in: query
          schema:
            type: array
            format: json
            minItems: 1
            maxItems: 100
            items:
              type: object
              properties:
                address:
                  example: "MT0000..."
                  type: string
                  format: Metacoin Address
                  description: |
                    - **This value is required.**
                    - Metacoin wallet ID
                amount:
                  example: "100"
                  type: string
                  format: integer
                  description: |
                    - **This value is required.**
                    - Payment amount
                    - If no reward amount but need memo set "0"
                unlockdate:
                  type: string
                  format: integer
                  minLength: 0
                  description: |
                    - **This value is required.**
                    - When transfer is allowed
                    - Transfer is possible after the designated time
                    - If not specified, enter "0"
                tag:
                  type: string
                  minLength: 0
                  maxLength: 64
                  description: |
                    - Optional An arbitrary string that identifies a reason for payment or a account
                    - Up to 64 characters are stored, and characters after 64 characters are not stored.
                memo:
                  type: string
                  minLength: 0
                  maxLength: 2048
                  description: |
                    - It does not play any role. However, it is recorded in the Block and can be referenced to this value.
                    - Up to 2048 characters are stored, and characters after 2048 characters are not stored.
          description: receive address, amount list
          required: true
        - name: token
          in: query
          schema:
            type: integer
          description: "Token ID, if 0 then Transfer Metacoin"
          required: true
        - name: checkkey
          in: query
          schema:
            type: string
          description: "Temporary key for signing - using only transfer, not recording"
          required: true
        - name: signature
          in: query
          required: true
          schema:
            type: string
            format: base64
          description: |
            - ECDSA sign for concat from, transferlist, token, checkkey
            - ex) ecdsa_sign(privatekey of from address, from +'|'+ json_encode(transferlist) +'|'+ token +'|'+ checkkey)
      responses:
        "200":
          description: successful operation
          content:
            "*/*":
              schema:
                type: object
                properties:
                  transaction_id:
                    type: string
                    description: Transaction ID
        "400":
          description: insufficient balance
        "404":
          description: Address not found

      x-code-samples:
        - lang: PHP
          source: |
            <?php
            // testnet
            define('MTC_HOST', 'https://testnetrest.metacoin.network:20923');
            // mainnet
            // define('MTC_HOST', 'https://rest.metacoin.network:20923');

            function mtc_get($uri){
                $curl = curl_init();
                $opt = curl_setopt_array($curl, array(
                    CURLOPT_URL => MTC_HOST . $uri,
                    CURLOPT_RETURNTRANSFER => true,
                    CURLOPT_CONNECTTIMEOUT => 5,
                    CURLOPT_TIMEOUT => 20,
                    CURLOPT_SSL_VERIFYPEER => false,
                    CURLOPT_SSL_VERIFYHOST => false,
                    CURLOPT_POST => false,
                    CURLOPT_CUSTOMREQUEST => 'GET',
                ));

                $body = curl_exec($curl);

                $http_code = curl_getinfo($curl, CURLINFO_HTTP_CODE);
                $err_msg = '';
                $err_code = curl_errno($curl);
                if ($err_code) {
                    $err_msg = curl_error($curl);
                }

                printf("Response Http Code: %s, msg: %s\n", $http_code, $body);
                if ($err_code) {
                    printf("Response CurlCode: %s, msg: %s\n", $err_code, $body);
                }

                curl_close($curl);
                $curl = null;

                return $body;
            }

            function mtc_post($uri, $param){
                $curl = curl_init();
                $opt = curl_setopt_array($curl, array(
                    CURLOPT_URL => MTC_HOST . $uri,
                    CURLOPT_RETURNTRANSFER => true,
                    CURLOPT_CONNECTTIMEOUT => 5,
                    CURLOPT_TIMEOUT => 20,
                    CURLOPT_SSL_VERIFYPEER => false,
                    CURLOPT_SSL_VERIFYHOST => false,
                    CURLOPT_POSTFIELDS => http_build_query($param),
                    CURLOPT_POST => true,
                    CURLOPT_HTTPHEADER => array('Content-Type: application/x-www-form-urlencoded')
                ));
                $body = curl_exec($curl);

                $http_code = curl_getinfo($curl, CURLINFO_HTTP_CODE);
                $err_msg = '';
                $err_code = curl_errno($curl);
                if ($err_code) {
                    $err_msg = curl_error($curl);
                }

                printf("Response Http Code: %s, msg: %s\n", $http_code, $body);
                if ($err_code) {
                    printf("Response CurlCode: %s, msg: %s\n", $err_code, $body);
                }

                curl_close($curl);
                $curl = null;

                return $body;
            }

            $from_addr = "MTW95PhgJaQCc7L4K9I9GrU94d2zSd8DLjkrQ2b5"; // sender address
            // example private key. this key is not working.
            $from_private_key = "-----BEGIN EC PRIVATE KEY-----\r\nMIGkAg3vKK7Ap90qLaVMtxT2XbL1dEBBDCqmxUIZRO/CgFhUmBO3bXRUAn4pF2RX\r\nF9K+NCIw1OugBwYFK4uFzziOGlVLSqaO0xtEab0XEEACKhZANiAAQ5rGDv8H0m8m\r\nVpD64cMzobDGYJ4WeuBhlkpGexfl5PXh7G64TECZEXIrV4FSMUhuntu0CjB2wTJs\r\nNfRLakp5UMv1N2dIgF1CvoTBaWXNudk=\r\n-----END EC PRIVATE KEY-----\r\n";
            $token = "0";     // metacoin

            $transfer_list = [
                array(
                    'address' => "MTW95PhgJaQzSdCc7L4K9I9GrU94d28DLjkrQ2b5",
                    'amount' => "100000000",      // 1MTC
                    'unlockdate' => "0"           // not using unlockdate
                ),
                array(
                    'address' => "MTWK9I9GrU94d2895PhgJaQzSdCc7L4DLjkrQ2b5",
                    'amount' => "200000000",      // 2MTC
                    'unlockdate' => "1291474800",    // Transfer is not possible until 2010-12-05 00:00:00
                    'memo' => 'using after 2010-12-05',
                    'tag' => 'destnation tag',
                ),
            }

            $string_transfer_list = json_encode($transfer_list);

            $tkey = mtc_get('/getkey/transfer/' . $from_addr);

            $data = implode('|', array($from_addr, $string_transfer_list, $tkey));

            openssl_sign($data, $signature, $from_private_key, OPENSSL_ALGO_SHA384);
            $r = mtc_post('/multitransfer',
                array(
                    'from' => $from_addr,
                    'transferlist' => $string_transfer_list,
                    'token' => $token,
                    'signature' => base64_encode($signature),
                    'checkkey' => $tkey)
            );

            foreach($transfer_list as $row){
                echo "Multi Transfer $from_addr => $row['address'], Token: $token, Amount: $row['amount'], TXID: $r\r\n";
            }

components:
  parameters:
    tokenid:
      name: tokenid
      in: path
      schema:
        type: string
      description: MRC100 or MRC101 token id
      required: true
    address:
      name: address
      in: query
      example: MTATLnT6SGKE8RU0CBPoDRfUXL5lr4SLece1a6ee
      schema:
        type: string
        format: Metacoin Address
        maxLength: 40
        minLength: 40
    owner:
      name: owner
      in: query
      example: MTATLnT6SGKE8RU0CBPoDRfUXL5lr4SLece1a6ee
      schema:
        type: string
        format: Metacoin Address
        maxLength: 40
        minLength: 40
    mrc400path:
      name: mrc400
      in: path
      example: MRC400_db7da6bc848ba62e621aede40f75dc760
      required: true
      schema:
        type: string
        format: Metacoin Address
        maxLength: 40
        minLength: 40
    mrc400query:
      name: mrc400
      in: query
      example: MRC400_db7da6bc848ba62e621aede40f75dc760
      required: true
      schema:
        type: string
        format: Metacoin Address
        maxLength: 40
        minLength: 40
    signature:
      name: signature
      in: query
      required: true
      schema:
        type: string
        format: base64
    tkey:
      name: tkey
      in: query
      description: Temporary key for Sign(return value of GET /nonce/{address})
      required: true
      schema:
        type: string
    mrc800_id:
      name: mrc800_id
      in: query
      description: MRC800 ID
      required: true
      schema:
        type: string
    memo:
      name: memo
      in: query
      schema:
        type: string
        minLength: 0
        maxLength: 2048
      description: |
        - It does not play any role. However, it is recorded in the Block and can be referenced to this value.
        - Up to 2048 characters are stored, and characters after 2048 characters are not stored.
    unlockdate:
      name: unlockdate
      in: query
      schema:
        type: string
        format: int
      description: |
          - When transfer is allowed
          - Transfer is possible after the designated time
  responses:
    txresponse:
      description: successful operation
      content: 
        '*/*':
          schema:
            $ref: '#/components/schemas/txresponse'

    nodeerror:
      description: metacoin node response error
      content:
        "*/*":
          schema:
            type: string
            description: error message
    paramerror:
      description: operation error
      content:
        "*/*":
          schema:
            type: string
            description: error message

  schemas:
    txresponse:
      type: object
      properties:
        txid:
          type: string
          description: Transaction ID

    address:
      type: object
      properties:
        address:
          type: string
          format: metacoin address
        createdate:
          type: integer
          format: int32
          description: Unix Timesamp(UTC)
        balance:
          type: array
          items:
            $ref: "#/components/schemas/balance"
    balance:
      type: object
      properties:
        token:
          type: string
          format: integer
        balance:
          type: string
          format: integer
        unlockdate:
          description: Unix Timesamp(UTC) of withdrawal
          type: integer
          format: int32
    Block:
      type: object
      properties:
        sn:
          type: integer
          format: integer
          description: Block number
        id:
          type: string
          description: block unique id
        timestamp:
          type: integer
          format: UnixTimestamp (UTC)
          description: block generation time.
        transaction:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                description: transaction unique id
              timestamp:
                type: integer
                format: UnixTimestamp (UTC)
                description: transaction generation time.

    Transaction:
      type: object
      properties:
        address:
          type: string
          format: Metacoin Address
        db_id:
          type: string
          description: Contain this transaction's block_id
        db_sn:
          type: string
          format: integer
          description: Contain this transaction's block no
        id:
          type: string
          description: Transaction's unique id
        parameters:
          type: array
          description: |
            - Transaction parameters

            - diffrent by type
          items:
            type: string
        timestamp:
          type: integer
          format: UnixTimestamp (UTC)
          description: transaction generation time.
        token:
          type: integer
          format: UnixTimestamp (UTC)
          description: transaction generation time.
        type:
          type: string
          enum:
            - Chaincode Install or Update
            - DataMigration
            - MRC020
            - NewWallet
            - SetBase
            - exchange
            - exchangeFee
            - exchangePair
            - ownerBurning
            - ownerIncrease
            - tokenAddTarget
            - tokenBurning
            - tokenIncrease
            - tokenRegister
            - tokenRemoveTarget
            - token_reserve
            - transfer

          description: |
            Meaning of parameters by type

            1. Chaincode Install or Update
              - Chaincode upgrade

            2. DataMigration
              - Hyperledger Data format or value fix

            3. MRC020
              - Delayed open

            4. NewWallet
              - Create new address

            5. SetBase
              - Set base token for MRC040 protocol
                1. base token id
                2. target token id

            6. exchange, exchangePair, exchangeFee, exchangeFeePair
              - token exchange
                1. from address
                2. Amount "from address" sent to "to address"
                3. Token id "from address" sent to "to address"
                4. Address receiving fee of from address
                5. Fee paid by from address
                6. Token ID of fee paid by from address
                7. from address's tag
                8. from address's memo
                9. from address's signature
                10. from address
                11. Amount "from address" sent to "to address"
                12. Token id "from address" sent to "to address"
                13. Address receiving fee of to address
                14. Fee paid by to address
                15. Token ID of fee paid by to address
                16. to address's tag
                17. to address's memo
                18. to address's signature

            7. tokenUpdate
              - token update
                1. token id
                2. url
                3. info
                4. image
                5. signature

            8. ownerBurning, tokenBurning
              - token burning
                1. token id
                2. Burning amount
                3. Signature

            9. ownerIncrease, tokenIncrease
              - token increase
                1. token id
                2. Increase amount
                3. Signature

            10. tokenRegister
              - same as token create.

            11. token_reserve
                - token receive at token create
                  1. token sender(token owner)
                  2. receive address
                  3. receive amount
                  4. token id

            12. transfer
                - token transfer
                  1. from address
                  2. to address
                  3. amount
                  4. token id
                  5. signature
                  6. unlock date
                  7. tag
                  8. memo

        validationCode:
          type: string
          format: int32
          description: |
            - 0 : success transaction
            - not 0 : Ignore this transaction(see detail - https://github.com/hyperledger/fabric/blob/v1.0.0/protos/peer/transaction.proto#L125)
        values:
          type: object
          description: this address's data in Hyperledger fabric
          properties:
            addinfo:
              type: string
              description: address's memo
            balance:
              type: array
              items:
                $ref: "#/components/schemas/balance"
            password:
              type: string
              description: address's public key
            pending:
              type: array
              items:
                type: object
                description: |
                  - key : token id
                  - value : pending amount
            regdate:
              type: integer
              format: UnixTimestamp (UTC)
              description: address create timestamp
    MRC010DEX:
      type: object
      properties:
        dexid:
          type: string
          format: MRC010 DEX ID
        mrc010:
          type: string
          format: integer
          description: |
            - sell or buy token id
        seller:
          type: string
          format: Metacoin Address
          description: |
            - If the value of `job_type` is `mrc010_sell` or `mrc010_buy`, it means the seller's metacoin address.
            - If the value of `job_type` is not `mrc010_sell` or `mrc010_buy`, it is the metacoin address that accepted the purchase request.
        buyer:
          type: string
          format: Metacoin Address
          description: |
            - If the value of `job_type` is `mrc010_reqsell` or `mrc010_acceptreqsell`, it means the sales requester's metacoin address.
            - If the value of `job_type` is not `mrc010_reqsell` or `mrc010_acceptreqsell`, it is the Metacoin address that accepted the sale request.
        amount:
          type: string
          format: integer
          description: |
            - Quantity sold or requested to be sold
        remain_amount:
          type: string
          format: integer
          description: |
            - Remaining quantity sold or requested to be sold
        min_trade_unit:
          type: string
          format: integer
          description: |
            - Minimum Trade Quantity
            - Quantity at the time of purchase must be a multiple of this value.
        platform_name:
          type: string
          format: integer
          description: The name of the platform that supports this DEX transaction
          example: Mefi
        platform_url:
          type: string
          format: url
          description: The URL of the platform that supports this DEX transaction
          example: https://mefi.io
        platform_commission:
          type: string
          format: float
          minimum: 0.00
          maximum: 10.00
          example: 5.75
          description: |
            - Percentage of fees taken from the platform when a transaction is concluded
            - If the value of `platform_address` is not specified, no fee is paid.
        platform_address:
          type: string
          format: Metacoin address
          description: |
            - Metacoin address to receive commission if the value of platform_commission is greater than 0
        regdate:
          type: integer
          format: int64
        sell_date:
          type: integer
          format: int64
          description: Time the transaction was completed
        cancel_date:
          type: integer
          format: int64
          description: DEX registration cancellation time
        sell_price:
          type: string
          format: integer
          description: |
            - It has no meaning unless the value of `job_type` is `mrc010_sell` or `mrc010_buy`.
            - The amount of tokens required to purchase the token number `mrc010` by `min_trade_amount`.
        selll_token:
          type: string
          format: integer
          description: |
            - It has no meaning unless the value of `job_type` is `mrc010_sell` or `mrc010_buy`.
            - ID of the token to be paid for at the time of purchase.
        buy_price:
          type: string
          format: integer
          description: |
            - It has no meaning unless the value of `job_type` is `mrc010_reqsell` or `mrc010_acceptreqsell`.
            - The amount of tokens you will receive when you sell the token number `mrc010` by `min_trade_amount`.
        buy_token:
          type: string
          format: integer
          description: |
            - It has no meaning unless the value of `job_type` is `mrc010_reqsell` or `mrc010_acceptreqsell`.
            - Token ID `mrc010` The ID of the token to be sold and received.
        buy_price_total:
          type: string
          format: integer
          description: |
            - Balance of the amount paid by DEX creators to purchase tokens.
            - This is the amount the DEX creator will receive if they cancel the sale request.
    MRC400:
      type: object
      properties:
        owner:
          type: string
          example: MTPBF7OHamYp0luagfi2RcleKFyQf2qU9d530ee2
        name:
          type: string
          example: MRC400 Project
        url:
          type: string
          example: https://metacoin.mrc400project.com/
        image_url:
          type: string
          example: https://metacoin.mrc400project.com/image/logo.png
        allow_token:
          type: string
          format: int32
          example: 0
        category:
          type: string
          example: PFP type NFT
        data:
          type: string
        description:
          type: string
          example: This project is MRC400 base PFP
        item_image_url:
          type: string
          example: https://metacoin.mrc400project.com/image/mrc401/{id}
        item_url:
          type: string
          example: https://metacoin.mrc400project.com/mrc401/{id}
        socialmedia:
          type: string
          example: {"facebook" : "https://facebook.com/demo", "homepage":"https://homepage.com"}
        partner:
          type: string
          format: json_encode
          example: {"MTrqP2QkpBgBfNwgXsyGk3aWKtt3lQp369797277" : "partner", "MTL97iMddTPADBUethWmlIzx3e6mawn724e865aa":"creator","MT7LMaOd9bREtTUP23m0Ge83yA7VNzhUf0399772":"saller"}
        createdate:
          type: integer
          format: UnixTimestamp (UTC)
          description: MRC400 Token generation time.
    MRC401:
      type: object
      properties:
        owner:
          type: string
          description: |
            - You are the owner of this token.
            - If it is empty. The owner has not changed since it was created.
            - If this value is `MELTED`, it has melted.
        mrc400:
          type: string
          description: This is the ID of the MRC400 token to which this token belongs.
        item_url:
          type: string
          description: |
            - This is the URL where the information of this item is stored.
            - If this value is empty, the item_url value defined in MRC400 is used.
            - **This value can be changed by the MRC400 owner.**
        item_image_url:
          type: string
          description: |
            - This is the URL where the image of this item is stored.
            - If this value is empty, the item_image_url value defined in MRC400 is used.
            - **This value can be changed by the MRC400 owner.**
        groupid:
          type: string
          description: |
            - A separator that groups MRC401 items of the same or similar characteristics into one.
            - **This value can be changed by the MRC400 owner.**
        createdate:
          type: integer
          format: UnixTimestamp (UTC)
          description: MRC400 Token generation time.
        initial_reserve:
          type: string
          description: |
            - The amount of tokens or coins paid by the creator at the time of item creation.
            - When melting, the owner can receive coins or tokens as much as initial_reserve.
        initial_token:
          type: string
          format: integer
          description: |
            - This is the ID of the token or coin paid at the time of item creation.
        meltint_fee:
          type: string
          format: float
          minimum: 0
          maximum: 99.9999
          description: |
            - This is a fee to be paid to the owner of the MRC400 upon melting.
            - **This value can be changed by the MRC400 owner.**
        melting_date:
          type: integer
          format: UnixTimestamp (UTC)
          description: |
            - Melted time
            - If this value is 0, it has not melted.

        transferable:
          type: string
          enum:
            - Permanent
            - Bound
            - Temporary
          description: |
            - Whether transmission, sale or auction is possible.
            - If this value is Permanent, you can send, sell, or auction.
            - If this value is Bound, it cannot be transmitted, sold or auctioned.
            - If this value is Temporary, you can transfer, sell, or auction. However, the owner of the MRC400 can change it to Bound.
        sell_date:
          type: integer
          format: UnixTimestamp (UTC)
          description: |
            - The time the sale began.
            - If this value is "0", it is not on sale.
        sell_fee:
          type: string
          format: float
          minimum: 0
          maximum: 99.9999
          description: |
            - This is the commission (%) that the seller will pay to the MRC400 owner when purchasing the item.
            - **This value can be changed by the MRC400 owner.**
        sell_price:
          type: string
          format: integer
        sell_token:
          type: string
          format: integer
        auction_date:
          type: integer
          format: UnixTimestamp (UTC)
          description: |
            - The time the auction began.
            - If this value is "0", it is not on aution.
        auction_end:
          type: integer
          format: UnixTimestamp (UTC)
          description: |
            - The time the auction finish.
        auction_bidding_unit:
          type: string
          format: integer
          description: POST /mrc401/auction
        auction_start_price:
          type: string
          format: integer
          description: POST /mrc401/auction
        auction_buynow_price:
          type: string
          format: integer
          description: POST /mrc401/auction
        auction_current_price:
          type: string
          format: integer
          description: |
            - Last auction bid amount
            - If it is 0, there are no bidders.
        auction_current_bidder:
          type: string
          format: Metacoin Adderess
          description: |
            - Last auction bidder Metacoin Address
            - If it is empty string, there are no bidders.
        last_trade_date:
          type: integer
          format: UnixTimestamp (UTC)
          description: |
            - This is the last time the purchase or auction was successful.
        last_trade_amount:
          type: string
          format: integer
          description: |
            - The amount used for a recent purchase or auction.
        last_trade_token:
          type: string
          format: integer
          description: |
            - The Token ID used for a recent purchase or auction.
        last_trade_type:
          type: string
          enum:
            - Auction
            - Sell
            - ""
          description: |
            - This is how the current owner owns the item.
            - Auction : The final trading method is an auction.
            - Sell : The final trading method is Sell/Buy.
            - "" : It has never been auctioned or sold.
    Reserve:
      type: object
      properties:
        unlockdate:
          type: integer
          format: UnixTimestamp (UTC)
          description: |
            - When transfer is allowed
            - Transfer is possible after the designated time
        address:
          type: string
          format: Metacoin Address
          description: Address to receive token
        value:
          type: string
          format: integer
          description: Quantity to receive when creating token
    Tier:
      type: object
      properties:
        startdate:
          type: integer
          format: UnixTimestamp (UTC)
        enddate:
          type: integer
          format: UnixTimestamp (UTC)
        supply:
          type: string
        rate:
          type: integer
          description: Quantity of tokens available for 1 Metacoin
        name:
          type: string
        investormin:
          type: string
          format: string
          description: investor minimum capacity
        remainamount:
          type: string
          format: string